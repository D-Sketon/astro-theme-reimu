---
const fontDisplay = "&display=swap";
const fontSubset = "&subset=latin,latin-ext";
const fontStyles = ":300,300italic,400,400italic,700,700italic";
const fontHost = "https://fonts.googleapis.com";

let fontFamilies: any = ["Mulish", "Noto Serif SC", "Ubuntu Mono"].map(
  (item) => {
    return item + fontStyles;
  }
);

fontFamilies = fontFamilies.filter((item: string) => item !== "");
fontFamilies = [...new Set(fontFamilies)];
fontFamilies = fontFamilies.join("|");
---

<link
  rel="preload"
  href={`${fontHost}/css?family=${fontFamilies.concat(fontDisplay, fontSubset)}`}
  as="style"
  onload="this.onload=null;this.rel='stylesheet'"
/>
