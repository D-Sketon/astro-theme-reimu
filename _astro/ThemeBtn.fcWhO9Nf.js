import{j as T,F as D,d as re,e as oe,g as se}from"./index.l1ztX2QQ.js";import{r as i}from"./index.C71KYPUq.js";import{c as O}from"./_commonjsHelpers.Cpj98o6Y.js";var N,Q;function ae(){if(Q)return N;Q=1;var n="Expected a function",e=NaN,r="[object Symbol]",u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt,h=typeof O=="object"&&O&&O.Object===Object&&O,F=typeof self=="object"&&self&&self.Object===Object&&self,R=h||F||Function("return this")(),k=Object.prototype,s=k.toString,m=Math.max,x=Math.min,p=function(){return R.Date.now()};function Y(t,l,E){var b,y,I,w,g,S,C=0,J=!1,j=!1,_=!0;if(typeof t!="function")throw new TypeError(n);l=H(l)||0,A(E)&&(J=!!E.leading,j="maxWait"in E,I=j?m(H(E.maxWait)||0,l):I,_="trailing"in E?!!E.trailing:_);function $(a){var v=b,L=y;return b=y=void 0,C=a,w=t.apply(L,v),w}function V(a){return C=a,g=setTimeout(M,l),J?$(a):w}function ee(a){var v=a-S,L=a-C,U=l-v;return j?x(U,I-L):U}function G(a){var v=a-S,L=a-C;return S===void 0||v>=l||v<0||j&&L>=I}function M(){var a=p();if(G(a))return P(a);g=setTimeout(M,ee(a))}function P(a){return g=void 0,_&&b?$(a):(b=y=void 0,w)}function te(){g!==void 0&&clearTimeout(g),C=0,b=S=y=g=void 0}function ne(){return g===void 0?w:P(p())}function z(){var a=p(),v=G(a);if(b=arguments,y=this,S=a,v){if(g===void 0)return V(S);if(j)return g=setTimeout(M,l),$(S)}return g===void 0&&(g=setTimeout(M,l)),w}return z.cancel=te,z.flush=ne,z}function A(t){var l=typeof t;return!!t&&(l=="object"||l=="function")}function Z(t){return!!t&&typeof t=="object"}function q(t){return typeof t=="symbol"||Z(t)&&s.call(t)==r}function H(t){if(typeof t=="number")return t;if(q(t))return e;if(A(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=A(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=t.replace(u,"");var E=c.test(t);return E||o.test(t)?d(t.slice(2),E?2:8):f.test(t)?e:+t}return N=Y,N}ae();var B=typeof window<"u"?i.useLayoutEffect:i.useEffect;function X(n,e,r,u){const f=i.useRef(e);B(()=>{f.current=e},[e]),i.useEffect(()=>{const c=window;if(!(c&&c.addEventListener))return;const o=d=>{f.current(d)};return c.addEventListener(n,o,u),()=>{c.removeEventListener(n,o,u)}},[n,r,u])}function K(n){const e=i.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return B(()=>{e.current=n},[n]),i.useCallback((...r)=>{var u;return(u=e.current)==null?void 0:u.call(e,...r)},[e])}var W=typeof window>"u";function ce(n,e,r={}){const{initializeWithValue:u=!0}=r,f=i.useCallback(s=>r.serializer?r.serializer(s):JSON.stringify(s),[r]),c=i.useCallback(s=>{if(r.deserializer)return r.deserializer(s);if(s==="undefined")return;const m=e instanceof Function?e():e;let x;try{x=JSON.parse(s)}catch(p){return console.error("Error parsing JSON:",p),m}return x},[r,e]),o=i.useCallback(()=>{const s=e instanceof Function?e():e;if(W)return s;try{const m=window.localStorage.getItem(n);return m?c(m):s}catch(m){return console.warn(`Error reading localStorage key “${n}”:`,m),s}},[e,n,c]),[d,h]=i.useState(()=>u?o():e instanceof Function?e():e),F=K(s=>{W&&console.warn(`Tried setting localStorage key “${n}” even though environment is not a client`);try{const m=s instanceof Function?s(o()):s;window.localStorage.setItem(n,f(m)),h(m),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))}catch(m){console.warn(`Error setting localStorage key “${n}”:`,m)}}),R=K(()=>{W&&console.warn(`Tried removing localStorage key “${n}” even though environment is not a client`);const s=e instanceof Function?e():e;window.localStorage.removeItem(n),h(s),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))});i.useEffect(()=>{h(o())},[n]);const k=i.useCallback(s=>{s.key&&s.key!==n||h(o())},[n,o]);return X("storage",k),X("local-storage",k),[d,F,R]}var ie=typeof window>"u";function ue(n,{defaultValue:e=!1,initializeWithValue:r=!0}={}){const u=d=>ie?e:window.matchMedia(d).matches,[f,c]=i.useState(()=>r?u(n):e);function o(){c(u(n))}return B(()=>{const d=window.matchMedia(n);return o(),d.addListener?d.addListener(o):d.addEventListener("change",o),()=>{d.removeListener?d.removeListener(o):d.removeEventListener("change",o)}},[n]),f}function fe(n="auto"){const e=ue("(prefers-color-scheme: dark)"),[r,u]=ce("theme",n),[f,c]=i.useState(r),o=f==="auto"?r==="auto"?e?"dark":"light":r:f;return i.useEffect(()=>{r&&r!==f&&c(r)},[]),i.useEffect(()=>{o==="dark"&&(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.style.colorScheme="dark"),o==="light"&&(document.documentElement.removeAttribute("data-theme"),document.documentElement.style.colorScheme="light")},[o]),{colorMode:o,theme:f,setTheme:h=>{u(h),c(h)}}}function ge({className:n}){const{theme:e,setTheme:r}=fe(),[u,f]=i.useState(!1);if(i.useEffect(()=>{f(!0)},[]),!u)return T.jsx(T.Fragment,{});const c=o=>{r(o),document.body.dispatchEvent(new CustomEvent("theme-set",{detail:{theme:o}}))};return T.jsxs("span",{className:n,children:[e==="dark"&&T.jsx(D,{icon:re,scale:20,onClick:()=>c("light")}),e==="light"&&T.jsx(D,{icon:oe,scale:20,onClick:()=>c("dark")}),e==="auto"&&T.jsx(D,{icon:se,scale:20,onClick:()=>c("light")})]})}export{ge as default};
