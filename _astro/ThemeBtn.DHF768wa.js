import{j as f,F as h,d as L,e as k,g as M}from"./index.CVP6RE6H.js";import{r as s}from"./index.CjZlQXZN.js";import{c as m}from"./_commonjsHelpers.Cpj98o6Y.js";var T=typeof m=="object"&&m&&m.Object===Object&&m,x=typeof self=="object"&&self&&self.Object===Object&&self;T||x||Function("return this")();var E=typeof window<"u"?s.useLayoutEffect:s.useEffect;function v(e,t,r,c){const a=s.useRef(t);E(()=>{a.current=t},[t]),s.useEffect(()=>{const u=window;if(!(u&&u.addEventListener))return;const n=i=>{a.current(i)};return u.addEventListener(e,n,c),()=>{u.removeEventListener(e,n,c)}},[e,r,c])}function C(e){const t=s.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return E(()=>{t.current=e},[e]),s.useCallback((...r)=>{var c;return(c=t.current)==null?void 0:c.call(t,...r)},[t])}var g=typeof window>"u";function y(e,t,r={}){const{initializeWithValue:c=!0}=r,a=s.useCallback(o=>r.serializer?r.serializer(o):JSON.stringify(o),[r]),u=s.useCallback(o=>{if(r.deserializer)return r.deserializer(o);if(o==="undefined")return;const l=t instanceof Function?t():t;let S;try{S=JSON.parse(o)}catch(j){return console.error("Error parsing JSON:",j),l}return S},[r,t]),n=s.useCallback(()=>{const o=t instanceof Function?t():t;if(g)return o;try{const l=window.localStorage.getItem(e);return l?u(l):o}catch(l){return console.warn(`Error reading localStorage key “${e}”:`,l),o}},[t,e,u]),[i,d]=s.useState(()=>c?n():t instanceof Function?t():t),b=C(o=>{g&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const l=o instanceof Function?o(n()):o;window.localStorage.setItem(e,a(l)),d(l),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(l){console.warn(`Error setting localStorage key “${e}”:`,l)}}),p=C(()=>{g&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const o=t instanceof Function?t():t;window.localStorage.removeItem(e),d(o),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});s.useEffect(()=>{d(n())},[e]);const w=s.useCallback(o=>{o.key&&o.key!==e||d(n())},[e,n]);return v("storage",w),v("local-storage",w),[i,b,p]}var F=typeof window>"u";function I(e,{defaultValue:t=!1,initializeWithValue:r=!0}={}){const c=i=>F?t:window.matchMedia(i).matches,[a,u]=s.useState(()=>r?c(e):t);function n(){u(c(e))}return E(()=>{const i=window.matchMedia(e);return n(),i.addListener?i.addListener(n):i.addEventListener("change",n),()=>{i.removeListener?i.removeListener(n):i.removeEventListener("change",n)}},[e]),a}function z(e="auto"){const t=I("(prefers-color-scheme: dark)"),[r,c]=y("theme",e),[a,u]=s.useState(r),n=a==="auto"?r==="auto"?t?"dark":"light":r:a;return s.useEffect(()=>{r&&r!==a&&u(r)},[]),s.useEffect(()=>{n==="dark"&&(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.style.colorScheme="dark"),n==="light"&&(document.documentElement.removeAttribute("data-theme"),document.documentElement.style.colorScheme="light")},[n]),{colorMode:n,theme:a,setTheme:d=>{c(d),u(d)}}}function D(){const{theme:e,setTheme:t}=z(),[r,c]=s.useState(!1);if(s.useEffect(()=>{c(!0)},[]),!r)return f.jsx(f.Fragment,{});const a=u=>{t(u),document.body.dispatchEvent(new CustomEvent("theme-set",{detail:{theme:u}}))};return f.jsxs("span",{style:{color:"var(--red-1)",opacity:"0.8",height:"100%",display:"flex",alignItems:"center",cursor:"pointer"},children:[e==="dark"&&f.jsx(h,{icon:L,scale:20,onClick:()=>a("light")}),e==="light"&&f.jsx(h,{icon:k,scale:20,onClick:()=>a("dark")}),e==="auto"&&f.jsx(h,{icon:M,scale:20,onClick:()=>a("light")})]})}export{D as default};
