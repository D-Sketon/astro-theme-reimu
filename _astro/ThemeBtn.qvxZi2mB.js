import{j as T,F as D,d as re,e as oe,g as se}from"./index.l1ztX2QQ.js";import{r as u}from"./index.C71KYPUq.js";import{c as O}from"./_commonjsHelpers.Cpj98o6Y.js";var N,Q;function ae(){if(Q)return N;Q=1;var n="Expected a function",e=NaN,r="[object Symbol]",f=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,h=typeof O=="object"&&O&&O.Object===Object&&O,F=typeof self=="object"&&self&&self.Object===Object&&self,R=h||F||Function("return this")(),k=Object.prototype,s=k.toString,m=Math.max,x=Math.min,p=function(){return R.Date.now()};function Y(t,l,E){var b,y,I,w,g,S,j=0,J=!1,C=!1,_=!0;if(typeof t!="function")throw new TypeError(n);l=H(l)||0,A(E)&&(J=!!E.leading,C="maxWait"in E,I=C?m(H(E.maxWait)||0,l):I,_="trailing"in E?!!E.trailing:_);function $(a){var v=b,L=y;return b=y=void 0,j=a,w=t.apply(L,v),w}function V(a){return j=a,g=setTimeout(M,l),J?$(a):w}function ee(a){var v=a-S,L=a-j,U=l-v;return C?x(U,I-L):U}function G(a){var v=a-S,L=a-j;return S===void 0||v>=l||v<0||C&&L>=I}function M(){var a=p();if(G(a))return P(a);g=setTimeout(M,ee(a))}function P(a){return g=void 0,_&&b?$(a):(b=y=void 0,w)}function te(){g!==void 0&&clearTimeout(g),j=0,b=S=y=g=void 0}function ne(){return g===void 0?w:P(p())}function z(){var a=p(),v=G(a);if(b=arguments,y=this,S=a,v){if(g===void 0)return V(S);if(C)return g=setTimeout(M,l),$(S)}return g===void 0&&(g=setTimeout(M,l)),w}return z.cancel=te,z.flush=ne,z}function A(t){var l=typeof t;return!!t&&(l=="object"||l=="function")}function Z(t){return!!t&&typeof t=="object"}function q(t){return typeof t=="symbol"||Z(t)&&s.call(t)==r}function H(t){if(typeof t=="number")return t;if(q(t))return e;if(A(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=A(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=t.replace(f,"");var E=c.test(t);return E||o.test(t)?i(t.slice(2),E?2:8):d.test(t)?e:+t}return N=Y,N}ae();var B=typeof window<"u"?u.useLayoutEffect:u.useEffect;function X(n,e,r,f){const d=u.useRef(e);B(()=>{d.current=e},[e]),u.useEffect(()=>{const c=window;if(!(c&&c.addEventListener))return;const o=i=>{d.current(i)};return c.addEventListener(n,o,f),()=>{c.removeEventListener(n,o,f)}},[n,r,f])}function K(n){const e=u.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return B(()=>{e.current=n},[n]),u.useCallback((...r)=>{var f;return(f=e.current)==null?void 0:f.call(e,...r)},[e])}var W=typeof window>"u";function ce(n,e,r={}){const{initializeWithValue:f=!0}=r,d=u.useCallback(s=>r.serializer?r.serializer(s):JSON.stringify(s),[r]),c=u.useCallback(s=>{if(r.deserializer)return r.deserializer(s);if(s==="undefined")return;const m=e instanceof Function?e():e;let x;try{x=JSON.parse(s)}catch(p){return console.error("Error parsing JSON:",p),m}return x},[r,e]),o=u.useCallback(()=>{const s=e instanceof Function?e():e;if(W)return s;try{const m=window.localStorage.getItem(n);return m?c(m):s}catch(m){return console.warn(`Error reading localStorage key “${n}”:`,m),s}},[e,n,c]),[i,h]=u.useState(()=>f?o():e instanceof Function?e():e),F=K(s=>{W&&console.warn(`Tried setting localStorage key “${n}” even though environment is not a client`);try{const m=s instanceof Function?s(o()):s;window.localStorage.setItem(n,d(m)),h(m),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))}catch(m){console.warn(`Error setting localStorage key “${n}”:`,m)}}),R=K(()=>{W&&console.warn(`Tried removing localStorage key “${n}” even though environment is not a client`);const s=e instanceof Function?e():e;window.localStorage.removeItem(n),h(s),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))});u.useEffect(()=>{h(o())},[n]);const k=u.useCallback(s=>{s.key&&s.key!==n||h(o())},[n,o]);return X("storage",k),X("local-storage",k),[i,F,R]}var ie=typeof window>"u";function ue(n,{defaultValue:e=!1,initializeWithValue:r=!0}={}){const f=i=>ie?e:window.matchMedia(i).matches,[d,c]=u.useState(()=>r?f(n):e);function o(){c(f(n))}return B(()=>{const i=window.matchMedia(n);return o(),i.addListener?i.addListener(o):i.addEventListener("change",o),()=>{i.removeListener?i.removeListener(o):i.removeEventListener("change",o)}},[n]),d}function fe(n="auto"){const e=ue("(prefers-color-scheme: dark)"),[r,f]=ce("theme",n),[d,c]=u.useState(r),o=d==="auto"?r==="auto"?e?"dark":"light":r:d;return u.useEffect(()=>{r&&r!==d&&c(r)},[]),u.useEffect(()=>{o==="dark"&&(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.style.colorScheme="dark"),o==="light"&&(document.documentElement.removeAttribute("data-theme"),document.documentElement.style.colorScheme="light")},[o]),{colorMode:o,theme:d,setTheme:h=>{f(h),c(h)}}}function ge({className:n}){const{theme:e,setTheme:r}=fe(),[f,d]=u.useState(!1);if(u.useEffect(()=>{d(!0)},[]),!f)return T.jsx(T.Fragment,{});const c=i=>{r(i),document.body.dispatchEvent(new CustomEvent("theme-set",{detail:{theme:i}}))},o=()=>{c(e==="dark"?"light":e==="light"?"dark":"light")};return T.jsxs("span",{className:n,onClick:o,children:[e==="dark"&&T.jsx(D,{icon:re,scale:20}),e==="light"&&T.jsx(D,{icon:oe,scale:20}),e==="auto"&&T.jsx(D,{icon:se,scale:20})]})}export{ge as default};
