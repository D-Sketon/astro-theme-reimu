const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/toImg.C5hS9a_m.js","_astro/rasterize-JS5G2XHH.CBN-NRlj.js","_astro/toCanvas.8AyYpcGh.js","_astro/preload-helper.CJacXwkj.js","_astro/toBlob.BNCK6QvN.js","_astro/download.Dfaze3L0.js"])))=>i.map(i=>d[i]);
import{_ as W}from"./preload-helper.CJacXwkj.js";var S={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function Ot(e="soft"){switch(S.session.__counterEpoch=(S.session.__counterEpoch||0)+1,e){case"auto":{S.session.styleMap=new Map,S.session.nodeMap=new Map;return}case"soft":{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap,S.computedStyle=new WeakMap,S.baseStyle=new Map,S.defaultStyle=new Map,S.image=new Map,S.background=new Map,S.resource=new Map,S.font=new Set;return}default:{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap;return}}}function We(e){let t=e.match(/url\((['"]?)(.*?)(\1)\)/);if(!t)return null;let n=t[2].trim();return n.startsWith("#")?null:n}function Dt(e){if(!e||e==="none")return"";let t=e.replace(/translate[XY]?\([^)]*\)/g,"");return t=t.replace(/matrix\(([^)]+)\)/g,(n,r)=>{let a=r.split(",").map(o=>o.trim());return a.length!==6?`matrix(${r})`:(a[4]="0",a[5]="0",`matrix(${a.join(", ")})`)}),t=t.replace(/matrix3d\(([^)]+)\)/g,(n,r)=>{let a=r.split(",").map(o=>o.trim());return a.length!==16?`matrix3d(${r})`:(a[12]="0",a[13]="0",`matrix3d(${a.join(", ")})`)}),t.trim().replace(/\s{2,}/g," ")}function xe(e){if(/%[0-9A-Fa-f]{2}/.test(e))return e;try{return encodeURI(e)}catch{return e}}function qt(e="[snapDOM]",{ttlMs:t=5*6e4,maxEntries:n=12}={}){let r=new Map,a=0;function o(i,s,u){if(a>=n)return;let l=Date.now();(r.get(s)||0)>l||(r.set(s,l+t),a++,i==="warn"&&console&&console.warn?console.warn(`${e} ${u}`):console&&console.error&&console.error(`${e} ${u}`))}return{warnOnce(i,s){o("warn",i,s)},errorOnce(i,s){o("error",i,s)},reset(){r.clear(),a=0}}}var Ve=qt("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),ve=new Map,pe=new Map;function jt(e){return/^data:|^blob:|^about:blank$/i.test(e)}function Ut(e,t){try{let n=typeof location<"u"&&location.href?location.href:"http://localhost/",r=t.includes("{url}")?t.split("{url}")[0]:t,a=new URL(r||".",n),o=new URL(e,n);if(o.origin===a.origin)return!0;let i=o.searchParams;if(i&&(i.has("url")||i.has("target")))return!0}catch{}return!1}function Vt(e,t){if(!t||jt(e)||Ut(e,t))return!1;try{let n=typeof location<"u"&&location.href?location.href:"http://localhost/",r=new URL(e,n);return typeof location<"u"?r.origin!==location.origin:!0}catch{return!!t}}function Ht(e,t){if(!t)return e;if(t.includes("{url}"))return t.replace("{urlRaw}",xe(e)).replace("{url}",encodeURIComponent(e));if(/[?&]url=?$/.test(t))return`${t}${encodeURIComponent(e)}`;if(t.endsWith("?"))return`${t}url=${encodeURIComponent(e)}`;if(t.endsWith("/"))return`${t}${xe(e)}`;let n=t.includes("?")?"&":"?";return`${t}${n}url=${encodeURIComponent(e)}`}function He(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=()=>t(String(r.result||"")),r.onerror=()=>n(new Error("read_failed")),r.readAsDataURL(e)})}function zt(e,t){return[t.as||"blob",t.timeout??3e3,t.useProxy||"",t.errorTTL??8e3,e].join("|")}async function j(e,t={}){let n=t.as??"blob",r=t.timeout??3e3,a=t.useProxy||"",o=t.errorTTL??8e3,i=t.headers||{},s=!!t.silent;if(/^data:/i.test(e))try{if(n==="text")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1};if(n==="dataURL")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1,mime:String(e).slice(5).split(";")[0]||""};let[,d="",w=""]=String(e).match(/^data:([^,]*),(.*)$/)||[],b=/;base64/i.test(d)?atob(w):decodeURIComponent(w),x=new Uint8Array([...b].map(M=>M.charCodeAt(0))),y=new Blob([x],{type:(d||"").split(";")[0]||""});return{ok:!0,data:y,status:200,url:e,fromCache:!1,mime:y.type||""}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(e))try{let d=await fetch(e);if(!d.ok)return{ok:!1,data:null,status:d.status,url:e,fromCache:!1,reason:"http_error"};let w=await d.blob(),b=w.type||d.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await He(w),status:d.status,url:e,fromCache:!1,mime:b}:n==="text"?{ok:!0,data:await w.text(),status:d.status,url:e,fromCache:!1,mime:b}:{ok:!0,data:w,status:d.status,url:e,fromCache:!1,mime:b}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(e))return n==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:e,fromCache:!1,mime:"image/png"}:{ok:!0,data:n==="text"?"":new Blob([]),status:200,url:e,fromCache:!1};let u=zt(e,{as:n,timeout:r,useProxy:a,errorTTL:o}),l=pe.get(u);if(l&&l.until>Date.now())return{...l.result,fromCache:!0};l&&pe.delete(u);let c=ve.get(u);if(c)return c;let m=Vt(e,a)?Ht(e,a):e,h=t.credentials;if(!h)try{let d=typeof location<"u"&&location.href?location.href:"http://localhost/",w=new URL(e,d);h=typeof location<"u"&&w.origin===location.origin?"include":"omit"}catch{h="omit"}let g=new AbortController,p=setTimeout(()=>g.abort("timeout"),r),f=(async()=>{try{let d=await fetch(m,{signal:g.signal,credentials:h,headers:i});if(!d.ok){let x={ok:!1,data:null,status:d.status,url:m,fromCache:!1,reason:"http_error"};if(o>0&&pe.set(u,{until:Date.now()+o,result:x}),!s){let y=`${d.status} ${d.statusText||""}`.trim();Ve.warnOnce(`http:${d.status}:${n}:${new URL(e,location?.href??"http://localhost/").origin}`,`HTTP error ${y} while fetching ${n} ${e}`)}return t.onError&&t.onError(x),x}if(n==="text")return{ok:!0,data:await d.text(),status:d.status,url:m,fromCache:!1};let w=await d.blob(),b=w.type||d.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await He(w),status:d.status,url:m,fromCache:!1,mime:b}:{ok:!0,data:w,status:d.status,url:m,fromCache:!1,mime:b}}catch(d){let w=d&&typeof d=="object"&&"name"in d&&d.name==="AbortError"?String(d.message||"").includes("timeout")?"timeout":"abort":"network",b={ok:!1,data:null,status:0,url:m,fromCache:!1,reason:w};if(!/^blob:/i.test(e)&&o>0&&pe.set(u,{until:Date.now()+o,result:b}),!s){let x=`${w}:${n}:${new URL(e,location?.href??"http://localhost/").origin}`,y=w==="timeout"?`Timeout after ${r}ms. Consider increasing timeout or using a proxy for ${e}`:w==="abort"?`Request aborted while fetching ${n} ${e}`:`Network/CORS issue while fetching ${n} ${e}. A proxy may be required`;Ve.errorOnce(x,y)}return t.onError&&t.onError(b),b}finally{clearTimeout(p),ve.delete(u)}})();return ve.set(u,f),f}async function ut(e,t={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(e)||e.trim()==="none")return e;let n=We(e);if(!n)return e;let r=xe(n);if(S.background.has(r)){let a=S.background.get(r);return a?`url("${a}")`:"none"}try{let a=await j(r,{as:"dataURL",useProxy:t.useProxy});return a.ok?(S.background.set(r,a.data),`url("${a.data}")`):(S.background.set(r,null),"none")}catch{return S.background.set(r,null),"none"}}var Bt=new Set(["meta","script","noscript","title","link","template"]),Oe=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]);function Xt(e){if(e=String(e).toLowerCase(),Oe.has(e)){let o={};return S.defaultStyle.set(e,o),o}if(S.defaultStyle.has(e))return S.defaultStyle.get(e);let t=document.getElementById("snapdom-sandbox");t||(t=document.createElement("div"),t.id="snapdom-sandbox",t.setAttribute("data-snapdom-sandbox","true"),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="0px",t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t));let n=document.createElement(e);n.style.all="initial",t.appendChild(n);let r=getComputedStyle(n),a={};for(let o of r){if(ct(o))continue;let i=r.getPropertyValue(o);a[o]=i}return t.removeChild(n),S.defaultStyle.set(e,a),a}var Yt=/(?:^|-)(animation|transition)(?:-|$)/i,Gt=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,Jt=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function ct(e){let t=String(e).toLowerCase();return!!(Jt.has(t)||Gt.test(t)||Yt.test(t))}function Ee(e,t){if(t=String(t||"").toLowerCase(),Oe.has(t))return"";let n=[],r=Xt(t);for(let[a,o]of Object.entries(e)){if(ct(a))continue;let i=r[a];o&&o!==i&&n.push(`${a}:${o}`)}return n.sort(),n.join(";")}function Kt(e){let t=new Set;return e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(e.tagName&&t.add(e.tagName.toLowerCase()),typeof e.querySelectorAll=="function"&&e.querySelectorAll("*").forEach(n=>t.add(n.tagName.toLowerCase())),Array.from(t))}function Qt(e){let t=new Map;for(let r of e){let a=S.defaultStyle.get(r);if(!a)continue;let o=Object.entries(a).map(([i,s])=>`${i}:${s};`).sort().join("");o&&(t.has(o)||t.set(o,[]),t.get(o).push(r))}let n="";for(let[r,a]of t.entries())n+=`${a.join(",")} { ${r} }
`;return n}function Zt(e){let t=Array.from(new Set(e.values())).filter(Boolean).sort(),n=new Map,r=1;for(let a of t)n.set(a,`c${r++}`);return n}function ft(e,t=null){if(!(e instanceof Element))return window.getComputedStyle(e,t);let n=S.computedStyle.get(e);if(n||(n=new Map,S.computedStyle.set(e,n)),!n.has(t)){let r=window.getComputedStyle(e,t);n.set(t,r)}return n.get(t)}function ze(e){let t={};for(let n of e)t[n]=e.getPropertyValue(n);return t}function dt(e){let t=[],n=0,r=0;for(let a=0;a<e.length;a++){let o=e[a];o==="("&&n++,o===")"&&n--,o===","&&n===0&&(t.push(e.slice(r,a).trim()),r=a+1)}return t.push(e.slice(r).trim()),t}var en=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],ee=Object.assign({materialIconsFilled:"https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2",materialIconsOutlined:"https://fonts.gstatic.com/s/materialiconsoutlined/v110/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUcel5euIg.woff2",materialIconsRound:"https://fonts.gstatic.com/s/materialiconsround/v109/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmPq_HTTw.woff2",materialIconsSharp:"https://fonts.gstatic.com/s/materialiconssharp/v110/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvRImcycg.woff2"},typeof window<"u"&&window.__SNAPDOM_ICON_FONTS__||{}),_e=[];function tn(e){let t=Array.isArray(e)?e:[e];for(let n of t)n instanceof RegExp?_e.push(n):typeof n=="string"?_e.push(new RegExp(n,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",n)}function V(e){let t=typeof e=="string"?e:"",n=[...en,..._e];for(let r of n)if(r instanceof RegExp&&r.test(t))return!0;return!!(/icon/i.test(t)||/glyph/i.test(t)||/symbols/i.test(t)||/feather/i.test(t)||/fontawesome/i.test(t))}function nn(e=""){let t=String(e).toLowerCase();return/\bmaterial\s*icons\b/.test(t)||/\bmaterial\s*symbols\b/.test(t)}var Be=new Map;function rn(e=""){let t=Object.create(null),n=String(e||""),r=/['"]?\s*([A-Za-z]{3,4})\s*['"]?\s*([+-]?\d+(?:\.\d+)?)\s*/g,a;for(;a=r.exec(n);)t[a[1].toUpperCase()]=Number(a[2]);return t}async function on(e,t,n){let r=String(e||""),a=r.toLowerCase(),o=String(t||"").toLowerCase();if(/\bmaterial\s*icons\b/.test(a)&&!/\bsymbols\b/.test(a))return{familyForMeasure:r,familyForCanvas:r};if(!/\bmaterial\s*symbols\b/.test(a))return{familyForMeasure:r,familyForCanvas:r};let i=n&&(n.FILL??n.fill),s="outlined";/\brounded\b/.test(o)||/\bround\b/.test(o)?s="rounded":/\bsharp\b/.test(o)?s="sharp":/\boutlined\b/.test(o)&&(s="outlined");let u=i===1,l=null;if(u&&(s==="outlined"&&ee.materialIconsFilled?l={url:ee.materialIconsFilled,alias:"snapdom-mi-filled"}:s==="rounded"&&ee.materialIconsRound?l={url:ee.materialIconsRound,alias:"snapdom-mi-round"}:s==="sharp"&&ee.materialIconsSharp&&(l={url:ee.materialIconsSharp,alias:"snapdom-mi-sharp"})),!l)return{familyForMeasure:r,familyForCanvas:r};if(!Be.has(l.alias))try{let m=new FontFace(l.alias,`url(${l.url})`,{style:"normal",weight:"400"});document.fonts.add(m),await m.load(),Be.set(l.alias,!0)}catch{return{familyForMeasure:r,familyForCanvas:r}}let c=`"${l.alias}"`;return{familyForMeasure:c,familyForCanvas:c}}async function an(e="Material Icons",t=24){try{await Promise.all([document.fonts.load(`400 ${t}px "${String(e).replace(/["']/g,"")}"`),document.fonts.ready])}catch{}}function ln(e){let t=e.getPropertyValue("-webkit-text-fill-color")?.trim()||"",n=/^transparent$/i.test(t)||/rgba?\(\s*0\s*,\s*0\s*,\s*0\s*,\s*0\s*\)/i.test(t);if(t&&!n&&t.toLowerCase()!=="currentcolor")return t;let r=e.color?.trim();return r&&r!=="inherit"?r:"#000"}async function sn(e,{family:t="Material Icons",weight:n="normal",fontSize:r=32,color:a="#000",variation:o="",className:i=""}={}){let s=String(t||"").replace(/^['"]+|['"]+$/g,""),u=window.devicePixelRatio||1,l=rn(o),{familyForMeasure:c,familyForCanvas:m}=await on(s,i,l);await an(m.replace(/^["']+|["']+$/g,""),r);let h=document.createElement("span");h.textContent=e,h.style.position="absolute",h.style.visibility="hidden",h.style.left="-99999px",h.style.whiteSpace="nowrap",h.style.fontFamily=c,h.style.fontWeight=String(n||"normal"),h.style.fontSize=`${r}px`,h.style.lineHeight="1",h.style.margin="0",h.style.padding="0",h.style.fontFeatureSettings="'liga' 1",h.style.fontVariantLigatures="normal",h.style.color=a,document.body.appendChild(h);let g=h.getBoundingClientRect(),p=Math.max(1,Math.ceil(g.width)),f=Math.max(1,Math.ceil(g.height));document.body.removeChild(h);let d=document.createElement("canvas");d.width=p*u,d.height=f*u;let w=d.getContext("2d");w.scale(u,u),w.font=`${n?`${n} `:""}${r}px ${m}`,w.textAlign="left",w.textBaseline="top",w.fillStyle=a;try{w.fontKerning="normal"}catch{}return w.fillText(e,0,0),{dataUrl:d.toDataURL(),width:p,height:f}}async function un(e,t){if(!(e instanceof Element))return 0;let n='.material-icons, [class*="material-symbols"]',r=Array.from(e.querySelectorAll(n)).filter(i=>i&&i.textContent&&i.textContent.trim());if(r.length===0)return 0;let a=t instanceof Element?Array.from(t.querySelectorAll(n)).filter(i=>i&&i.textContent&&i.textContent.trim()):[],o=0;for(let i=0;i<r.length;i++){let s=r[i],u=a[i]||null;try{let l=getComputedStyle(u||s),c=l.fontFamily||"Material Icons";if(!nn(c))continue;let m=(u||s).textContent.trim();if(!m)continue;let h=parseInt(l.fontSize,10)||24,g=l.fontWeight&&l.fontWeight!=="normal"?l.fontWeight:"normal",p=ln(l),f=l.fontVariationSettings&&l.fontVariationSettings!=="normal"?l.fontVariationSettings:"",d=(u||s).className||"",{dataUrl:w,width:b,height:x}=await sn(m,{family:c,weight:g,fontSize:h,color:p,variation:f,className:d});s.textContent="";let y=s.ownerDocument.createElement("img");y.src=w,y.alt=m,y.style.height=`${h}px`,y.style.width=`${Math.max(1,Math.round(b/x*h))}px`,y.style.objectFit="contain",y.style.verticalAlign=getComputedStyle(s).verticalAlign||"baseline",s.appendChild(y),o++}catch{}}return o}async function cn(e,t,n,r=32,a="#000"){t=t.replace(/^['"]+|['"]+$/g,"");let o=window.devicePixelRatio||1;try{await document.fonts.ready}catch{}let i=document.createElement("span");i.textContent=e,i.style.position="absolute",i.style.visibility="hidden",i.style.fontFamily=`"${t}"`,i.style.fontWeight=n||"normal",i.style.fontSize=`${r}px`,i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.padding="0",i.style.margin="0",document.body.appendChild(i);let s=i.getBoundingClientRect(),u=Math.ceil(s.width),l=Math.ceil(s.height);document.body.removeChild(i);let c=document.createElement("canvas");c.width=Math.max(1,u*o),c.height=Math.max(1,l*o);let m=c.getContext("2d");return m.scale(o,o),m.font=n?`${n} ${r}px "${t}"`:`${r}px "${t}"`,m.textAlign="left",m.textBaseline="top",m.fillStyle=a,m.fillText(e,0,0),{dataUrl:c.toDataURL(),width:u,height:l}}var fn=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Ce(e){if(!e)return"";for(let t of e.split(",")){let n=t.trim().replace(/^['"]+|['"]+$/g,"");if(n&&!fn.has(n.toLowerCase()))return n}return""}function ye(e){let t=String(e??"400").trim().toLowerCase();if(t==="normal")return 400;if(t==="bold")return 700;let n=parseInt(t,10);return Number.isFinite(n)?Math.min(900,Math.max(100,n)):400}function we(e){let t=String(e??"normal").trim().toLowerCase();return t.startsWith("italic")?"italic":t.startsWith("oblique")?"oblique":"normal"}function dn(e){let t=String(e??"100%").match(/(\d+(?:\.\d+)?)\s*%/);return t?Math.max(50,Math.min(200,parseFloat(t[1]))):100}function mn(e){let t=String(e||"400").trim(),n=t.match(/^(\d{2,3})\s+(\d{2,3})$/);if(n){let a=ye(n[1]),o=ye(n[2]);return{min:Math.min(a,o),max:Math.max(a,o)}}let r=ye(t);return{min:r,max:r}}function hn(e){let t=String(e||"normal").trim().toLowerCase();return t==="italic"?{kind:"italic"}:t.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function pn(e){let t=String(e||"100%").trim(),n=t.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(n){let o=parseFloat(n[1]),i=parseFloat(n[2]);return{min:Math.min(o,i),max:Math.max(o,i)}}let r=t.match(/(\d+(?:\.\d+)?)\s*%/),a=r?parseFloat(r[1]):100;return{min:a,max:a}}function gn(e,t){if(!e)return!1;try{let n=new URL(e,location.href);if(n.origin===location.origin)return!0;let r=n.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(o=>r.endsWith(o)))return!0;let a=(n.pathname+n.search).toLowerCase();if(/\bfont(s)?\b/.test(a)||/\.woff2?(\b|$)/.test(a))return!0;for(let o of t){let i=o.toLowerCase().replace(/\s+/g,"+"),s=o.toLowerCase().replace(/\s+/g,"-");if(a.includes(i)||a.includes(s))return!0}return!1}catch{return!1}}function yn(e){let t=new Set;for(let n of e||[]){let r=String(n).split("__")[0]?.trim();r&&t.add(r)}return t}function Xe(e,t){return e&&e.replace(/url\(\s*(['"]?)([^)'"]+)\1\s*\)/g,(n,r,a)=>{let o=(a||"").trim();if(!o||/^data:|^blob:|^https?:|^file:|^about:/i.test(o))return n;let i=o;try{i=new URL(o,t||location.href).href}catch{}return`url("${i}")`})}var Fe=/@import\s+(?:url\(\s*(['"]?)([^)"']+)\1\s*\)|(['"])([^"']+)\3)([^;]*);/g,Se=4;async function wn(e,t,n){if(!e)return e;let r=new Set;function a(s,u){try{return new URL(s,u||location.href).href}catch{return s}}async function o(s,u,l=0){if(l>Se)return console.warn(`[snapDOM] @import depth exceeded (${Se}) at ${u}`),s;let c="",m=0,h;for(;h=Fe.exec(s);){c+=s.slice(m,h.index),m=Fe.lastIndex;let g=(h[2]||h[4]||"").trim(),p=a(g,u);if(r.has(p)){console.warn(`[snapDOM] Skipping circular @import: ${p}`);continue}r.add(p);let f="";try{let d=await j(p,{as:"text",useProxy:n,silent:!0});d.ok&&typeof d.data=="string"&&(f=d.data)}catch{}f?(f=Xe(f,p),f=await o(f,p,l+1),c+=`
/* inlined: ${p} */
${f}
`):c+=h[0]}return c+=s.slice(m),c}let i=Xe(e,t||location.href);return i=await o(i,t||location.href,0),i}var mt=/url\((["']?)([^"')]+)\1\)/g,bn=/@font-face[^{}]*\{[^}]*\}/g;function ht(e){if(!e)return[];let t=[],n=e.split(",").map(r=>r.trim()).filter(Boolean);for(let r of n){let a=r.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!a)continue;let o=a[1],i=a[2],s=u=>{if(!u.includes("?"))return parseInt(u,16);let l=parseInt(u.replace(/\?/g,"0"),16),c=parseInt(u.replace(/\?/g,"F"),16);return[l,c]};if(i){let u=s(o),l=s(i),c=Array.isArray(u)?u[0]:u,m=Array.isArray(l)?l[1]:l;t.push([Math.min(c,m),Math.max(c,m)])}else{let u=s(o);Array.isArray(u)?t.push([u[0],u[1]]):t.push([u,u])}}return t}function pt(e,t){if(!t.length||!e||e.size===0)return!0;for(let n of e)for(let[r,a]of t)if(n>=r&&n<=a)return!0;return!1}function De(e,t){let n=[];if(!e)return n;for(let r of e.matchAll(mt)){let a=(r[2]||"").trim();if(!(!a||a.startsWith("data:"))){if(!/^https?:/i.test(a))try{a=new URL(a,t||location.href).href}catch{}n.push(a)}}return n}async function gt(e,t,n=""){let r=e;for(let a of e.matchAll(mt)){let o=We(a[0]);if(!o)continue;let i=o;if(!i.startsWith("http")&&!i.startsWith("data:"))try{i=new URL(i,t||location.href).href}catch{}if(!V(i)){if(S.resource?.has(i)){S.font?.add(i),r=r.replace(a[0],`url(${S.resource.get(i)})`);continue}if(!S.font?.has(i))try{let s=await j(i,{as:"dataURL",useProxy:n,silent:!0});if(s.ok&&typeof s.data=="string"){let u=s.data;S.resource?.set(i,u),S.font?.add(i),r=r.replace(a[0],`url(${u})`)}}catch{console.warn("[snapDOM] Failed to fetch font resource:",i)}}}return r}function xn(e){if(!e.length)return null;let t=(i,s)=>e.some(([u,l])=>!(l<i||u>s)),n=t(0,255)||t(305,305),r=t(256,591)||t(7680,7935),a=t(880,1023),o=t(1024,1279);return t(7840,7929)||t(258,259)||t(416,417)||t(431,432)?"vietnamese":o?"cyrillic":a?"greek":r?"latin-ext":n?"latin":null}function Ye(e={}){let t=new Set((e.families||[]).map(a=>String(a).toLowerCase())),n=new Set((e.domains||[]).map(a=>String(a).toLowerCase())),r=new Set((e.subsets||[]).map(a=>String(a).toLowerCase()));return(a,o)=>{if(t.size&&t.has(a.family.toLowerCase()))return!0;if(n.size)for(let i of a.srcUrls)try{if(n.has(new URL(i).host.toLowerCase()))return!0}catch{}if(r.size){let i=xn(o);if(i&&r.has(i))return!0}return!1}}function Sn(e){if(!e)return e;let t=/@font-face[^{}]*\{[^}]*\}/gi,n=new Set,r=[];for(let o of e.match(t)||[]){let i=o.match(/font-family:\s*([^;]+);/i)?.[1]||"",s=Ce(i),u=(o.match(/font-weight:\s*([^;]+);/i)?.[1]||"400").trim(),l=(o.match(/font-style:\s*([^;]+);/i)?.[1]||"normal").trim(),c=(o.match(/font-stretch:\s*([^;]+);/i)?.[1]||"100%").trim(),m=(o.match(/unicode-range:\s*([^;]+);/i)?.[1]||"").trim(),h=(o.match(/src\s*:\s*([^;}]+)[;}]/i)?.[1]||"").trim(),g=De(h,location.href),p=g.length?g.map(d=>String(d).toLowerCase()).sort().join("|"):h.toLowerCase(),f=[String(s||"").toLowerCase(),u,l,c,m.toLowerCase(),p].join("|");n.has(f)||(n.add(f),r.push(o))}if(r.length===0)return e;let a=0;return e.replace(t,()=>r[a++]||"")}function Cn(e,t,n,r){let a=Array.from(e||[]).sort().join("|"),o=t?JSON.stringify({families:(t.families||[]).map(s=>String(s).toLowerCase()).sort(),domains:(t.domains||[]).map(s=>String(s).toLowerCase()).sort(),subsets:(t.subsets||[]).map(s=>String(s).toLowerCase()).sort()}):"",i=(n||[]).map(s=>`${(s.family||"").toLowerCase()}::${s.weight||"normal"}::${s.style||"normal"}::${s.src||""}`).sort().join("|");return`fonts-embed-css::req=${a}::ex=${o}::lf=${i}::px=${r||""}`}async function yt(e,t,n,r){let a;try{a=e.cssRules||[]}catch{return}let o=(i,s)=>{try{return new URL(i,s||location.href).href}catch{return i}};for(let i of a){if(i.type===CSSRule.IMPORT_RULE&&i.styleSheet){let s=i.href?o(i.href,t):t;if(r.depth>=Se){console.warn(`[snapDOM] CSSOM import depth exceeded (${Se}) at ${s}`);continue}if(s&&r.visitedSheets.has(s)){console.warn(`[snapDOM] Skipping circular CSSOM import: ${s}`);continue}s&&r.visitedSheets.add(s);let u={...r,depth:(r.depth||0)+1};await yt(i.styleSheet,s,n,u);continue}if(i.type===CSSRule.FONT_FACE_RULE){let s=(i.style.getPropertyValue("font-family")||"").trim(),u=Ce(s);if(!u||V(u))continue;let l=(i.style.getPropertyValue("font-weight")||"400").trim(),c=(i.style.getPropertyValue("font-style")||"normal").trim(),m=(i.style.getPropertyValue("font-stretch")||"100%").trim(),h=(i.style.getPropertyValue("src")||"").trim(),g=(i.style.getPropertyValue("unicode-range")||"").trim();if(!r.faceMatchesRequired(u,c,l,m))continue;let p=ht(g);if(!pt(r.usedCodepoints,p))continue;let f={family:u,weightSpec:l,styleSpec:c,stretchSpec:m,unicodeRange:g,srcRaw:h,srcUrls:De(h,t||location.href),href:t||location.href};if(r.simpleExcluder&&r.simpleExcluder(f,p))continue;if(/url\(/i.test(h)){let d=await gt(h,t||location.href,r.useProxy);await n(`@font-face{font-family:${u};src:${d};font-style:${c};font-weight:${l};font-stretch:${m};${g?`unicode-range:${g};`:""}}`)}else await n(`@font-face{font-family:${u};src:${h};font-style:${c};font-weight:${l};font-stretch:${m};${g?`unicode-range:${g};`:""}}`)}}}async function Mn({required:e,usedCodepoints:t,exclude:n=void 0,localFonts:r=[],useProxy:a=""}={}){e instanceof Set||(e=new Set),t instanceof Set||(t=new Set);let o=new Map;for(let f of e){let[d,w,b,x]=String(f).split("__");if(!d)continue;let y=o.get(d)||[];y.push({w:parseInt(w,10),s:b,st:parseInt(x,10)}),o.set(d,y)}function i(f,d,w,b){if(!o.has(f))return!1;let x=o.get(f),y=mn(w),M=hn(d),C=pn(b),$=y.min!==y.max,A=y.min,N=k=>M.kind==="normal"&&k==="normal"||M.kind!=="normal"&&(k==="italic"||k==="oblique"),T=!1;for(let k of x){let P=$?k.w>=y.min&&k.w<=y.max:k.w===A,I=N(we(k.s)),E=k.st>=C.min&&k.st<=C.max;if(P&&I&&E){T=!0;break}}if(T)return!0;if(!$)for(let k of x){let P=N(we(k.s)),I=k.st>=C.min&&k.st<=C.max;if(Math.abs(A-k.w)<=300&&P&&I)return!0}if(!$&&M.kind==="normal"&&x.some(k=>we(k.s)!=="normal"))for(let k of x){let P=Math.abs(A-k.w)<=300,I=k.st>=C.min&&k.st<=C.max;if(P&&I)return!0}return!1}let s=Ye(n),u=Cn(e,n,r,a);if(S.resource?.has(u))return S.resource.get(u);let l=yn(e),c=[],m=Fe;for(let f of document.querySelectorAll("style")){let d=f.textContent||"";for(let w of d.matchAll(m)){let b=(w[2]||w[4]||"").trim();!b||V(b)||document.querySelector(`link[rel="stylesheet"][href="${b}"]`)||c.push(b)}}c.length&&await Promise.all(c.map(f=>new Promise(d=>{if(document.querySelector(`link[rel="stylesheet"][href="${f}"]`))return d(null);let w=document.createElement("link");w.rel="stylesheet",w.href=f,w.setAttribute("data-snapdom","injected-import"),w.onload=()=>d(w),w.onerror=()=>d(null),document.head.appendChild(w)})));let h="",g=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(f=>!!f.href);for(let f of g)try{if(V(f.href))continue;let d="",w=!1;try{w=new URL(f.href,location.href).origin===location.origin}catch{}if(!w&&!gn(f.href,l))continue;if(w){let x=Array.from(document.styleSheets).find(y=>y.href===f.href);if(x)try{let y=x.cssRules||[];d=Array.from(y).map(M=>M.cssText).join("")}catch{}}if(!d&&(d=(await j(f.href,{as:"text",useProxy:a})).data,V(f.href)))continue;d=await wn(d,f.href,a);let b="";for(let x of d.match(bn)||[]){let y=(x.match(/font-family:\s*([^;]+);/i)?.[1]||"").trim(),M=Ce(y);if(!M||V(M))continue;let C=(x.match(/font-weight:\s*([^;]+);/i)?.[1]||"400").trim(),$=(x.match(/font-style:\s*([^;]+);/i)?.[1]||"normal").trim(),A=(x.match(/font-stretch:\s*([^;]+);/i)?.[1]||"100%").trim(),N=(x.match(/unicode-range:\s*([^;]+);/i)?.[1]||"").trim(),T=(x.match(/src\s*:\s*([^;}]+)[;}]/i)?.[1]||"").trim(),k=De(T,f.href);if(!i(M,$,C,A))continue;let P=ht(N);if(!pt(t,P))continue;let I={family:M,weightSpec:C,styleSpec:$,stretchSpec:A,unicodeRange:N,srcRaw:T,srcUrls:k,href:f.href};if(n&&s(I,P))continue;let E=/url\(/i.test(T)?await gt(x,f.href,a):x;b+=E}b.trim()&&(h+=b)}catch{console.warn("[snapDOM] Failed to process stylesheet:",f.href)}let p={requiredIndex:o,usedCodepoints:t,faceMatchesRequired:i,simpleExcluder:n?Ye(n):null,useProxy:a,visitedSheets:new Set,depth:0};for(let f of document.styleSheets)if(!(f.href&&g.some(d=>d.href===f.href)))try{let d=f.href||location.href;d&&p.visitedSheets.add(d),await yt(f,d,async w=>{h+=w},p)}catch{}try{for(let f of document.fonts||[]){if(!f||!f.family||f.status!=="loaded"||!f._snapdomSrc)continue;let d=String(f.family).replace(/^['"]+|['"]+$/g,"");if(V(d)||!o.has(d)||n?.families&&n.families.some(b=>String(b).toLowerCase()===d.toLowerCase()))continue;let w=f._snapdomSrc;if(!String(w).startsWith("data:")){if(S.resource?.has(f._snapdomSrc))w=S.resource.get(f._snapdomSrc),S.font?.add(f._snapdomSrc);else if(!S.font?.has(f._snapdomSrc))try{let b=await j(f._snapdomSrc,{as:"dataURL",useProxy:a,silent:!0});if(b.ok&&typeof b.data=="string")w=b.data,S.resource?.set(f._snapdomSrc,w),S.font?.add(f._snapdomSrc);else continue}catch{console.warn("[snapDOM] Failed to fetch dynamic font src:",f._snapdomSrc);continue}}h+=`@font-face{font-family:'${d}';src:url(${w});font-style:${f.style||"normal"};font-weight:${f.weight||"normal"};}`}}catch{}for(let f of r){if(!f||typeof f!="object")continue;let d=String(f.family||"").replace(/^['"]+|['"]+$/g,"");if(!d||V(d)||!o.has(d)||n?.families&&n.families.some(C=>String(C).toLowerCase()===d.toLowerCase()))continue;let w=f.weight!=null?String(f.weight):"normal",b=f.style!=null?String(f.style):"normal",x=f.stretchPct!=null?`${f.stretchPct}%`:"100%",y=String(f.src||""),M=y;if(!M.startsWith("data:")){if(S.resource?.has(y))M=S.resource.get(y),S.font?.add(y);else if(!S.font?.has(y))try{let C=await j(y,{as:"dataURL",useProxy:a,silent:!0});if(C.ok&&typeof C.data=="string")M=C.data,S.resource?.set(y,M),S.font?.add(y);else continue}catch{console.warn("[snapDOM] Failed to fetch localFonts src:",y);continue}}h+=`@font-face{font-family:'${d}';src:url(${M});font-style:${b};font-weight:${w};font-stretch:${x};}`}return h&&(h=Sn(h),S.resource?.set(u,h)),h}function $n(e){let t=new Set;if(!e)return t;let n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null),r=i=>{let s=Ce(i.fontFamily);if(!s)return;let u=(l,c,m)=>`${s}__${ye(l)}__${we(c)}__${dn(m)}`;t.add(u(i.fontWeight,i.fontStyle,i.fontStretch))};r(getComputedStyle(e));let a=getComputedStyle(e,"::before");a&&a.content&&a.content!=="none"&&r(a);let o=getComputedStyle(e,"::after");for(o&&o.content&&o.content!=="none"&&r(o);n.nextNode();){let i=n.currentNode,s=getComputedStyle(i);r(s);let u=getComputedStyle(i,"::before");u&&u.content&&u.content!=="none"&&r(u);let l=getComputedStyle(i,"::after");l&&l.content&&l.content!=="none"&&r(l)}return t}function vn(e){let t=new Set,n=a=>{if(a)for(let o of a)t.add(o.codePointAt(0))},r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;r.nextNode();){let a=r.currentNode;if(a.nodeType===Node.TEXT_NODE)n(a.nodeValue||"");else if(a.nodeType===Node.ELEMENT_NODE){let o=a;for(let i of["::before","::after"]){let s=getComputedStyle(o,i)?.getPropertyValue("content");if(!(!s||s==="none"))if(/^"/.test(s)||/^'/.test(s))n(s.slice(1,-1));else{let u=s.match(/\\[0-9A-Fa-f]{1,6}/g);if(u)for(let l of u)try{t.add(parseInt(l.slice(1),16))}catch{}}}}}return t}async function kn(e,t=2){try{await document.fonts.ready}catch{}let n=Array.from(e||[]).filter(Boolean);if(n.length===0)return;let r=()=>{let a=document.createElement("div");a.style.cssText="position:absolute!important;left:-9999px!important;top:0!important;opacity:0!important;pointer-events:none!important;contain:layout size style;";for(let o of n){let i=document.createElement("span");i.textContent="AaBbGg1234ÁÉÍÓÚçñ—∞",i.style.fontFamily=`"${o}"`,i.style.fontWeight="700",i.style.fontStyle="italic",i.style.fontSize="32px",i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.margin="0",i.style.padding="0",a.appendChild(i)}document.body.appendChild(a),a.offsetWidth,document.body.removeChild(a)};for(let a=0;a<Math.max(1,t);a++)r(),await new Promise(o=>requestAnimationFrame(()=>requestAnimationFrame(o)))}async function An(e,t,n,r={}){let a=[[e,t]],o=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],i=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],s=["background-position","background-position-x","background-position-y","background-size","background-repeat","background-origin","background-clip","background-attachment","background-blend-mode"],u=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;a.length;){let[l,c]=a.shift(),m=n.get(l)||ft(l);n.has(l)||n.set(l,m);let h=(()=>{let f=m.getPropertyValue("border-image"),d=m.getPropertyValue("border-image-source");return f&&f!=="none"||d&&d!=="none"})();for(let f of s){let d=m.getPropertyValue(f);d&&c.style.setProperty(f,d)}for(let f of o){let d=m.getPropertyValue(f);if(!d||d==="none")continue;let w=dt(d),b=await Promise.all(w.map(x=>ut(x,r)));b.some(x=>x&&x!=="none"&&!/^url\(undefined/.test(x))&&c.style.setProperty(f,b.join(", "))}for(let f of i){let d=m.getPropertyValue(f);!d||d==="initial"||c.style.setProperty(f,d)}if(h)for(let f of u){let d=m.getPropertyValue(f);!d||d==="initial"||c.style.setProperty(f,d)}let g=Array.from(l.children),p=Array.from(c.children).filter(f=>!(f.dataset&&f.dataset.snapdomPseudo));for(let f=0;f<Math.min(g.length,p.length);f++)a.push([g[f],p[f]])}}function ne(e,{fast:t=!1}={}){if(t)return e();"requestIdleCallback"in window?requestIdleCallback(e,{timeout:50}):setTimeout(e,1)}function ie(){if(typeof navigator>"u")return!1;let e=navigator.userAgent||"",t=e.toLowerCase(),n=t.includes("safari")&&!t.includes("chrome")&&!t.includes("crios")&&!t.includes("fxios")&&!t.includes("android"),r=/applewebkit/i.test(e),a=/mobile/i.test(e),o=!/safari/i.test(e),i=r&&a&&o,s=/(micromessenger|wxwork|wecom|windowswechat|macwechat)/i.test(e),u=/(baiduboxapp|baidubrowser|baidusearch|baiduboxlite)/i.test(t),l=/ipad|iphone|ipod/.test(t)&&r;return n||i||s||u||l}var ue=[];function wt(e){if(!e)return null;if(Array.isArray(e)){let[t,n]=e;return typeof t=="function"?t(n):t}if(typeof e=="object"&&"plugin"in e){let{plugin:t,options:n}=e;return typeof t=="function"?t(n):t}return typeof e=="function"?e():e}function En(...e){let t=e.flat();for(let n of t){let r=wt(n);r&&(ue.some(a=>a&&a.name&&r.name&&a.name===r.name)||ue.push(r))}}function bt(e){return(e&&Array.isArray(e.plugins)?e.plugins:ue)||ue}async function J(e,t,n){let r=n,a=bt(t);for(let o of a){let i=o&&typeof o[e]=="function"?o[e]:null;if(!i)continue;let s=await i(t,r);typeof s<"u"&&(r=s)}return r}async function _n(e,t,n){let r=[],a=bt(t);for(let o of a){let i=o&&typeof o[e]=="function"?o[e]:null;if(!i)continue;let s=await i(t,n);typeof s<"u"&&r.push(s)}return r}function Fn(e){let t=[];if(Array.isArray(e))for(let n of e){let r=wt(n);if(!r||!r.name)continue;let a=t.findIndex(o=>o&&o.name===r.name);a>=0&&t.splice(a,1),t.push(r)}for(let n of ue)n&&n.name&&!t.some(r=>r.name===n.name)&&t.push(n);return Object.freeze(t)}function Ln(e,t,n=!1){return!e||e.plugins&&!n||(e.plugins=Fn(t)),e}var Ge=new WeakMap,Le=new Map,Ne=0;function le(){Ne++}var Je=!1;function Nn(e=document.documentElement){if(!Je){Je=!0;try{new MutationObserver(()=>le()).observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{new MutationObserver(()=>le()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{let t=document.fonts;t&&(t.addEventListener?.("loadingdone",le),t.ready?.then(()=>le()).catch(()=>{}))}catch{}}}function Tn(e,t={}){let n={},r=e.getPropertyValue("visibility");for(let o=0;o<e.length;o++){let i=e[o],s=e.getPropertyValue(i);(i==="background-image"||i==="content")&&s.includes("url(")&&!s.includes("data:")&&(s="none"),n[i]=s}let a=["text-decoration-line","text-decoration-color","text-decoration-style","text-decoration-thickness","text-underline-offset","text-decoration-skip-ink"];for(let o of a)if(!n[o])try{let i=e.getPropertyValue(o);i&&(n[o]=i)}catch{}if(t.embedFonts){let o=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(let i of o)if(!n[i])try{let s=e.getPropertyValue(i);s&&(n[i]=s)}catch{}}return r==="hidden"&&(n.opacity="0"),n}var Ke=new WeakMap;function Pn(e){let t=Ke.get(e);return t||(t=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0).map(([n,r])=>`${n}:${r}`).join(";"),Ke.set(e,t),t)}function Rn(e,t=null,n={}){let r=Ge.get(e);if(r&&r.epoch===Ne)return r.snapshot;let a=t||getComputedStyle(e),o=Tn(a,n);return jn(e,a,o),Ge.set(e,{epoch:Ne,snapshot:o}),o}function In(e,t){return e&&e.session&&e.persist?e:e&&(e.styleMap||e.styleCache||e.nodeMap)?{session:e,persist:{snapshotKeyCache:Le,defaultStyle:S.defaultStyle,baseStyle:S.baseStyle,image:S.image,resource:S.resource,background:S.background,font:S.font},options:t||{}}:{session:S.session,persist:{snapshotKeyCache:Le,defaultStyle:S.defaultStyle,baseStyle:S.baseStyle,image:S.image,resource:S.resource,background:S.background,font:S.font},options:e||t||{}}}async function re(e,t,n,r){if(e.tagName==="STYLE")return;let a=In(n,r),o=a.options&&a.options.cache||"auto";if(o!=="disabled"&&Nn(document.documentElement),o==="disabled"&&!a.session.__bumpedForDisabled&&(le(),Le.clear(),a.session.__bumpedForDisabled=!0),Oe.has(e.tagName?.toLowerCase())){let h=e.getAttribute?.("style");h&&t.setAttribute("style",h)}let{session:i,persist:s}=a;i.styleCache.has(e)||i.styleCache.set(e,getComputedStyle(e));let u=i.styleCache.get(e),l=Rn(e,u,a.options),c=Pn(l),m=s.snapshotKeyCache.get(c);if(!m){let h=e.tagName?.toLowerCase()||"div";m=Ee(l,h),s.snapshotKeyCache.set(c,m)}i.styleMap.set(t,m)}function Wn(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function On(e){return e.backgroundImage&&e.backgroundImage!=="none"||e.backgroundColor&&e.backgroundColor!=="rgba(0, 0, 0, 0)"&&e.backgroundColor!=="transparent"||(parseFloat(e.borderTopWidth)||0)>0||(parseFloat(e.borderBottomWidth)||0)>0||(parseFloat(e.paddingTop)||0)>0||(parseFloat(e.paddingBottom)||0)>0?!0:(e.overflowBlock||e.overflowY||"visible")!=="visible"}function Dn(e){let t=e.parentElement;if(!t)return!1;let n=getComputedStyle(t).display||"";return n.includes("flex")||n.includes("grid")}function qn(e,t){if(e.textContent&&/\S/.test(e.textContent))return!0;let n=e.firstElementChild,r=e.lastElementChild;if(n&&n.tagName==="BR"||r&&r.tagName==="BR")return!0;let a=e.scrollHeight;if(a===0)return!1;let o=parseFloat(t.paddingTop)||0,i=parseFloat(t.paddingBottom)||0;return a>o+i}function jn(e,t,n){if(e instanceof HTMLElement&&e.style&&e.style.height)return;let r=e.tagName&&e.tagName.toLowerCase();if(!r||r!=="div"&&r!=="section"&&r!=="article"&&r!=="main"&&r!=="aside"&&r!=="header"&&r!=="footer"&&r!=="nav"&&r!=="ol"&&r!=="ul"&&r!=="li")return;let a=t.display||"";if(a.includes("flex")||a.includes("grid")||Wn(e))return;let o=t.position;if(o==="absolute"||o==="fixed"||o==="sticky"||t.transform!=="none"||On(t)||Dn(e))return;let i=t.overflowX||t.overflow||"visible",s=t.overflowY||t.overflow||"visible";if(i!=="visible"||s!=="visible")return;let u=t.clip;u&&u!=="auto"&&u!=="rect(auto, auto, auto, auto)"||t.visibility==="hidden"||t.opacity==="0"||qn(e,t)&&(delete n.height,delete n["block-size"])}var xt=["fill","stroke","color","background-color","stop-color"],Qe=new Map;function Un(e,t){let n=t+"::"+e.toLowerCase(),r=Qe.get(n);if(r)return r;let a=document,o=t==="http://www.w3.org/2000/svg"?a.createElementNS(t,e):a.createElement(e),i=a.createElement("div");i.style.cssText="position:absolute;left:-99999px;top:-99999px;contain:strict;display:block;",i.appendChild(o),a.documentElement.appendChild(i);let s=getComputedStyle(o),u={};for(let l of xt)u[l]=s.getPropertyValue(l)||"";return i.remove(),Qe.set(n,u),u}function Vn(e,t){if(!(e instanceof Element)||!(t instanceof Element))return;let n=e.getAttribute?.("style"),r=!!(n&&n.includes("var("));if(!r&&e.attributes?.length){let o=e.attributes;for(let i=0;i<o.length;i++){let s=o[i];if(s&&typeof s.value=="string"&&s.value.includes("var(")){r=!0;break}}}let a=null;if(r)try{a=getComputedStyle(e)}catch{}if(r){let o=e.style;if(o&&o.length)for(let i=0;i<o.length;i++){let s=o[i],u=o.getPropertyValue(s);if(!u||!u.includes("var("))continue;let l=a&&a.getPropertyValue(s);if(l)try{t.style.setProperty(s,l.trim(),o.getPropertyPriority(s))}catch{}}}if(r&&e.attributes?.length){let o=e.attributes;for(let i=0;i<o.length;i++){let s=o[i];if(!s||typeof s.value!="string"||!s.value.includes("var("))continue;let u=s.name,l=a&&a.getPropertyValue(u);if(l)try{t.style.setProperty(u,l.trim())}catch{}}}if(!r){if(!a)try{a=getComputedStyle(e)}catch{a=null}if(!a)return;let o=e.namespaceURI||"html",i=Un(e.tagName,o);for(let s of xt){let u=a.getPropertyValue(s)||"",l=i[s]||"";if(u&&u!==l)try{t.style.setProperty(s,u.trim())}catch{}}}}function ke(e,t,n){return Promise.all(e.map(r=>new Promise(a=>{function o(){ne(i=>{!(i&&typeof i.timeRemaining=="function")||i.timeRemaining()>0?t(r,a):o()},{fast:n})}o()})))}function Hn(e){return e=e.trim(),!e||/:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(e)?e:`${e}:not([data-sd-slotted])`}function zn(e,t,n=!0){return e.split(",").map(r=>r.trim()).filter(Boolean).map(r=>{if(r.startsWith(":where(")||r.startsWith("@"))return r;let a=n?Hn(r):r;return`:where(${t} ${a})`}).join(", ")}function Bn(e,t){return e?(e=e.replace(/:host\(([^)]+)\)/g,(n,r)=>`:where(${t}:is(${r.trim()}))`),e=e.replace(/:host\b/g,`:where(${t})`),e=e.replace(/:host-context\(([^)]+)\)/g,(n,r)=>`:where(:where(${r.trim()}) ${t})`),e=e.replace(/::slotted\(([^)]+)\)/g,(n,r)=>`:where(${t} ${r.trim()})`),e=e.replace(/(^|})(\s*)([^@}{]+){/g,(n,r,a,o)=>{let i=zn(o,t,!0);return`${r}${a}${i}{`}),e):""}function Xn(e){return e.shadowScopeSeq=(e.shadowScopeSeq||0)+1,`s${e.shadowScopeSeq}`}function Yn(e){let t="";try{e.querySelectorAll("style").forEach(r=>{t+=(r.textContent||"")+`
`});let n=e.adoptedStyleSheets||[];for(let r of n)try{if(r&&r.cssRules)for(let a of r.cssRules)t+=a.cssText+`
`}catch{}}catch{}return t}function Gn(e,t,n){if(!t)return;let r=document.createElement("style");r.setAttribute("data-sd",n),r.textContent=t,e.insertBefore(r,e.firstChild||null)}function Jn(e,t){try{let n=e.currentSrc||e.src||"";if(!n)return;t.setAttribute("src",n),t.removeAttribute("srcset"),t.removeAttribute("sizes"),t.loading="eager",t.decoding="sync"}catch{}}function Kn(e){let t=new Set;if(!e)return t;let n=/var\(\s*(--[A-Za-z0-9_-]+)\b/g,r;for(;r=n.exec(e);)t.add(r[1]);return t}function Qn(e,t){try{let n=getComputedStyle(e).getPropertyValue(t).trim();if(n)return n}catch{}try{let n=getComputedStyle(document.documentElement).getPropertyValue(t).trim();if(n)return n}catch{}return""}function Zn(e,t,n){let r=[];for(let a of t){let o=Qn(e,a);o&&r.push(`${a}: ${o};`)}return r.length?`${n}{${r.join("")}}
`:""}function er(e){e&&(e.nodeType===Node.ELEMENT_NODE&&e.setAttribute("data-sd-slotted",""),e.querySelectorAll&&e.querySelectorAll("*").forEach(t=>t.setAttribute("data-sd-slotted","")))}async function tr(e,t=3){let n=()=>{try{return e.contentDocument||e.contentWindow?.document||null}catch{return null}},r=n(),a=0;for(;a<t&&(!r||!r.body&&!r.documentElement);)await new Promise(o=>setTimeout(o,0)),r=n(),a++;return r&&(r.body||r.documentElement)?r:null}function nr(e){let t=e.getBoundingClientRect(),n=0,r=0,a=0,o=0;try{let u=getComputedStyle(e);n=parseFloat(u.borderLeftWidth)||0,r=parseFloat(u.borderRightWidth)||0,a=parseFloat(u.borderTopWidth)||0,o=parseFloat(u.borderBottomWidth)||0}catch{}let i=Math.max(0,Math.round(t.width-(n+r))),s=Math.max(0,Math.round(t.height-(a+o)));return{contentWidth:i,contentHeight:s,rect:t}}function rr(e,t,n){let r=e.createElement("style");return r.setAttribute("data-sd-iframe-pin",""),r.textContent=`html, body {margin: 0 !important;padding: 0 !important;width: ${t}px !important;height: ${n}px !important;min-width: ${t}px !important;min-height: ${n}px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}`,(e.head||e.documentElement).appendChild(r),()=>{try{r.remove()}catch{}}}async function or(e,t,n){let r=await tr(e,3);if(!r)throw new Error("iframe document not accessible/ready");let{contentWidth:a,contentHeight:o,rect:i}=nr(e),s=n?.snap;if(!s||typeof s.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");let u={...n,scale:1},l=rr(r,a,o),c;try{c=await s.toPng(r.documentElement,u)}finally{l()}c.style.display="block",c.style.width=`${a}px`,c.style.height=`${o}px`;let m=document.createElement("div");return t.nodeMap.set(m,e),re(e,m,t,n),m.style.overflow="hidden",m.style.display="block",m.style.width||(m.style.width=`${Math.round(i.width)}px`),m.style.height||(m.style.height=`${Math.round(i.height)}px`),m.appendChild(c),m}var ae=new Map;async function se(e){if(S.resource?.has(e))return S.resource.get(e);if(ae.has(e))return ae.get(e);let t=(async()=>{let n=await j(e,{as:"dataURL",silent:!0});if(!n.ok||typeof n.data!="string")throw new Error(`[snapDOM] Failed to read blob URL: ${e}`);return S.resource?.set(e,n.data),n.data})();ae.set(e,t);try{let n=await t;return ae.set(e,n),n}catch(n){throw ae.delete(e),n}}var ar=/\bblob:[^)"'\s]+/g;async function Ze(e){if(!e||e.indexOf("blob:")===-1)return e;let t=Array.from(new Set(e.match(ar)||[]));if(t.length===0)return e;let n=e;for(let r of t)try{let a=await se(r);n=n.split(r).join(a)}catch{}return n}function ge(e){return typeof e=="string"&&e.startsWith("blob:")}function ir(e){return(e||"").split(",").map(t=>t.trim()).filter(Boolean).map(t=>{let n=t.match(/^(\S+)(\s+.+)?$/);return n?{url:n[1],desc:n[2]||""}:null}).filter(Boolean)}function lr(e){return e.map(t=>t.desc?`${t.url} ${t.desc.trim()}`:t.url).join(", ")}async function sr(e){if(!e)return;let t=e.querySelectorAll?e.querySelectorAll("img"):[];for(let i of t)try{let s=i.getAttribute("src")||i.currentSrc||"";if(ge(s)){let l=await se(s);i.setAttribute("src",l)}let u=i.getAttribute("srcset");if(u&&u.includes("blob:")){let l=ir(u),c=!1;for(let m of l)if(ge(m.url))try{m.url=await se(m.url),c=!0}catch{}c&&i.setAttribute("srcset",lr(l))}}catch{}let n=e.querySelectorAll?e.querySelectorAll("image"):[];for(let i of n)try{let s="http://www.w3.org/1999/xlink",u=i.getAttribute("href")||i.getAttributeNS?.(s,"href");if(ge(u)){let l=await se(u);i.setAttribute("href",l),i.removeAttributeNS?.(s,"href")}}catch{}let r=e.querySelectorAll?e.querySelectorAll("[style*='blob:']"):[];for(let i of r)try{let s=i.getAttribute("style");if(s&&s.includes("blob:")){let u=await Ze(s);i.setAttribute("style",u)}}catch{}let a=e.querySelectorAll?e.querySelectorAll("style"):[];for(let i of a)try{let s=i.textContent||"";s.includes("blob:")&&(i.textContent=await Ze(s))}catch{}let o=["poster"];for(let i of o){let s=e.querySelectorAll?e.querySelectorAll(`[${i}^='blob:']`):[];for(let u of s)try{let l=u.getAttribute(i);ge(l)&&u.setAttribute(i,await se(l))}catch{}}}async function be(e,t,n){if(!e)throw new Error("Invalid node");let r=new Set,a=null,o=null;if(e.nodeType===Node.ELEMENT_NODE){let l=(e.localName||e.tagName||"").toLowerCase();if(e.id==="snapdom-sandbox"||e.hasAttribute("data-snapdom-sandbox")||Bt.has(l))return null}if(e.nodeType===Node.TEXT_NODE||e.nodeType!==Node.ELEMENT_NODE)return e.cloneNode(!0);if(e.getAttribute("data-capture")==="exclude"){if(n.excludeMode==="hide"){let l=document.createElement("div"),c=e.getBoundingClientRect();return l.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,l}else if(n.excludeMode==="remove")return null}if(n.exclude&&Array.isArray(n.exclude))for(let l of n.exclude)try{if(e.matches?.(l)){if(n.excludeMode==="hide"){let c=document.createElement("div"),m=e.getBoundingClientRect();return c.style.cssText=`display:inline-block;width:${m.width}px;height:${m.height}px;visibility:hidden;`,c}else if(n.excludeMode==="remove")return null}}catch(c){console.warn(`Invalid selector in exclude option: ${l}`,c)}if(typeof n.filter=="function")try{if(!n.filter(e)){if(n.filterMode==="hide"){let l=document.createElement("div"),c=e.getBoundingClientRect();return l.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,l}else if(n.filterMode==="remove")return null}}catch(l){console.warn("Error in filter function:",l)}if(e.tagName==="IFRAME"){let l=!1;try{l=!!(e.contentDocument||e.contentWindow?.document)}catch{l=!1}if(l)try{return await or(e,t,n)}catch(c){console.warn("[SnapDOM] iframe rasterization failed, fallback:",c)}if(n.placeholders){let c=document.createElement("div");return c.style.cssText=`width:${e.offsetWidth}px;height:${e.offsetHeight}px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;`,re(e,c,t,n),c}else{let c=e.getBoundingClientRect(),m=document.createElement("div");return m.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,re(e,m,t,n),m}}if(e.getAttribute("data-capture")==="placeholder"){let l=e.cloneNode(!1);t.nodeMap.set(l,e),re(e,l,t,n);let c=document.createElement("div");return c.textContent=e.getAttribute("data-placeholder-text")||"",c.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",l.appendChild(c),l}if(e.tagName==="CANVAS"){let l="";try{let m=e.getContext("2d",{willReadFrequently:!0});try{m&&m.getImageData(0,0,1,1)}catch{}if(await new Promise(h=>requestAnimationFrame(h)),l=e.toDataURL("image/png"),!l||l==="data:,"){try{m&&m.getImageData(0,0,1,1)}catch{}if(await new Promise(h=>requestAnimationFrame(h)),l=e.toDataURL("image/png"),!l||l==="data:,"){let h=document.createElement("canvas");h.width=e.width,h.height=e.height;let g=h.getContext("2d");g&&(g.drawImage(e,0,0),l=h.toDataURL("image/png"))}}}catch{}let c=document.createElement("img");try{c.decoding="sync",c.loading="eager"}catch{}l&&(c.src=l),c.width=e.width,c.height=e.height;try{let m=getComputedStyle(e);m.width&&(c.style.width=m.width),m.height&&(c.style.height=m.height)}catch{}return t.nodeMap.set(c,e),re(e,c,t,n),c}let i;try{if(i=e.cloneNode(!1),Vn(e,i),t.nodeMap.set(i,e),e.tagName==="IMG"){Jn(e,i);try{let l=e.getBoundingClientRect(),c=Math.round(l.width||0),m=Math.round(l.height||0);if(!c||!m){let h=window.getComputedStyle(e),g=parseFloat(h.width)||0,p=parseFloat(h.height)||0,f=parseInt(e.getAttribute("width")||"",10)||0,d=parseInt(e.getAttribute("height")||"",10)||0,w=e.width||e.naturalWidth||0,b=e.height||e.naturalHeight||0;c=Math.round(c||g||f||w||0),m=Math.round(m||p||d||b||0)}c&&(i.dataset.snapdomWidth=String(c)),m&&(i.dataset.snapdomHeight=String(m))}catch{}try{let l=e.getAttribute("style")||"",c=window.getComputedStyle(e),m=d=>{let w=l.match(new RegExp(`${d}\\s*:\\s*([^;]+)`,"i")),b=w?w[1].trim():c.getPropertyValue(d);return/%|auto/i.test(String(b||""))},h=parseInt(i.dataset.snapdomWidth||"0",10),g=parseInt(i.dataset.snapdomHeight||"0",10),p=m("width")||!h,f=m("height")||!g;p&&h&&(i.style.width=`${h}px`),f&&g&&(i.style.height=`${g}px`),h&&(i.style.minWidth=`${h}px`),g&&(i.style.minHeight=`${g}px`)}catch{}}}catch(l){throw console.error("[Snapdom] Failed to clone node:",e,l),l}if(e instanceof HTMLTextAreaElement){let l=e.getBoundingClientRect();i.style.width=`${l.width}px`,i.style.height=`${l.height}px`}if(e instanceof HTMLInputElement&&(i.value=e.value,i.setAttribute("value",e.value),e.checked!==void 0&&(i.checked=e.checked,e.checked&&i.setAttribute("checked",""),e.indeterminate&&(i.indeterminate=e.indeterminate))),e instanceof HTMLSelectElement&&(a=e.value),e instanceof HTMLTextAreaElement&&(o=e.value),re(e,i,t,n),e.shadowRoot){let l=function(b,x){if(b.nodeType===Node.ELEMENT_NODE&&b.tagName==="STYLE")return x(null);be(b,t,n).then(y=>{x(y||null)}).catch(()=>{x(null)})};try{let b=e.shadowRoot.querySelectorAll("slot");for(let x of b){let y=[];try{y=x.assignedNodes?.({flatten:!0})||x.assignedNodes?.()||[]}catch{y=x.assignedNodes?.()||[]}for(let M of y)r.add(M)}}catch{}let c=Xn(t),m=`[data-sd="${c}"]`;try{i.setAttribute("data-sd",c)}catch{}let h=Yn(e.shadowRoot),g=Bn(h,m),p=Kn(h),f=Zn(e,p,m);Gn(i,f+g,c);let d=document.createDocumentFragment(),w=await ke(Array.from(e.shadowRoot.childNodes),l,n.fast);d.append(...w.filter(b=>!!b)),i.appendChild(d)}if(e.tagName==="SLOT"){let l=function(p,f){be(p,t,n).then(d=>{d&&er(d),f(d||null)}).catch(()=>{f(null)})},c=e.assignedNodes?.({flatten:!0})||[],m=c.length>0?c:Array.from(e.childNodes),h=document.createDocumentFragment(),g=await ke(Array.from(m),l,n.fast);return h.append(...g.filter(p=>!!p)),h}function s(l,c){if(r.has(l))return c(null);be(l,t,n).then(m=>{c(m||null)}).catch(()=>{c(null)})}let u=await ke(Array.from(e.childNodes),s,n.fast);if(i.append(...u.filter(l=>!!l)),a!==null&&i instanceof HTMLSelectElement){i.value=a;for(let l of i.options)l.value===a?l.setAttribute("selected",""):l.removeAttribute("selected")}return o!==null&&i instanceof HTMLTextAreaElement&&(i.textContent=o),i}function ur(e){return/\bcounter\s*\(|\bcounters\s*\(/.test(e||"")}function cr(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function et(e,t=!1){let n="",r=Math.max(1,e);for(;r>0;)r--,n=String.fromCharCode(97+r%26)+n,r=Math.floor(r/26);return t?n.toUpperCase():n}function tt(e,t=!0){let n=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],r=Math.max(1,Math.min(3999,e)),a="";for(let[o,i]of n)for(;r>=o;)a+=i,r-=o;return t?a:a.toLowerCase()}function nt(e,t){switch((t||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,e));case"decimal-leading-zero":return(e<10?"0":"")+String(Math.max(0,e));case"lower-alpha":return et(e,!1);case"upper-alpha":return et(e,!0);case"lower-roman":return tt(e,!1);case"upper-roman":return tt(e,!0);default:return String(Math.max(0,e))}}function fr(e){let t=()=>S?.session?.__counterEpoch??0,n=t(),r=new WeakMap,a=e instanceof Document?e.documentElement:e,o=h=>h&&h.tagName==="LI",i=h=>{let g=0,p=h?.parentElement;if(!p)return 0;for(let f of p.children){if(f===h)break;f.tagName==="LI"&&g++}return g},s=h=>{let g=new Map;for(let[p,f]of h)g.set(p,f.slice());return g},u=(h,g,p)=>{let f=s(h),d;try{d=p.style?.counterReset||getComputedStyle(p).counterReset}catch{}if(d&&d!=="none")for(let b of d.split(",")){let x=b.trim().split(/\s+/),y=x[0],M=Number.isFinite(Number(x[1]))?Number(x[1]):0;if(!y)continue;let C=g.get(y);if(C&&C.length){let $=C.slice();$.push(M),f.set(y,$)}else f.set(y,[M])}let w;try{w=p.style?.counterIncrement||getComputedStyle(p).counterIncrement}catch{}if(w&&w!=="none")for(let b of w.split(",")){let x=b.trim().split(/\s+/),y=x[0],M=Number.isFinite(Number(x[1]))?Number(x[1]):1;if(!y)continue;let C=f.get(y)||[];C.length===0&&C.push(0),C[C.length-1]+=M,f.set(y,C)}try{if(getComputedStyle(p).display==="list-item"&&o(p)){let b=p.parentElement,x=1;if(b&&b.tagName==="OL"){let M=b.getAttribute("start"),C=Number.isFinite(Number(M))?Number(M):1,$=i(p),A=p.getAttribute("value");x=Number.isFinite(Number(A))?Number(A):C+$}else x=1+i(p);let y=f.get("list-item")||[];y.length===0&&y.push(0),y[y.length-1]=x,f.set("list-item",y)}}catch{}return f},l=(h,g,p)=>{let f=u(p,g,h);r.set(h,f);let d=f;for(let w of h.children)d=l(w,f,d);return f},c=new Map;l(a,c,c);function m(){let h=t();if(h!==n){n=h;let g=new Map;l(a,g,g)}}return{get(h,g){m();let p=r.get(h)?.get(g);return p&&p.length?p[p.length-1]:0},getStack(h,g){m();let p=r.get(h)?.get(g);return p?p.slice():[]}}}function dr(e,t,n){if(!e||e==="none")return e;try{let r=/\b(counter|counters)\s*\(([^)]+)\)/g,a=e.replace(r,(o,i,s)=>{let u=String(s).split(",").map(l=>l.trim());if(i==="counter"){let l=u[0]?.replace(/^["']|["']$/g,""),c=(u[1]||"decimal").toLowerCase(),m=n.get(t,l);return nt(m,c)}else{let l=u[0]?.replace(/^["']|["']$/g,""),c=u[1]?.replace(/^["']|["']$/g,"")??"",m=(u[2]||"decimal").toLowerCase(),h=n.getStack(t,l);return h.length?h.map(g=>nt(g,m)).join(c):""}});return cr(a)}catch{return"- "}}var te=new WeakMap,rt=300;function mr(e,t){let n=St(e);return t?(t.__pseudoPreflightFp!==n&&(t.__pseudoPreflight=at(e),t.__pseudoPreflightFp=n),!!t.__pseudoPreflight):at(e)}function Te(e){try{return e&&e.cssRules?e.cssRules:null}catch{return null}}function St(e){let t=e.querySelectorAll('style,link[rel~="stylesheet"]'),n=`n:${t.length}|`,r=0;for(let o=0;o<t.length;o++){let i=t[o];if(i.tagName==="STYLE"){let s=i.textContent?i.textContent.length:0;n+=`S${s}|`;let u=i.sheet,l=u?Te(u):null;l&&(r+=l.length)}else{let s=i.getAttribute("href")||"",u=i.getAttribute("media")||"all";n+=`L${s}|m:${u}|`;let l=i.sheet,c=l?Te(l):null;c&&(r+=c.length)}}let a=e.adoptedStyleSheets;return n+=`ass:${Array.isArray(a)?a.length:0}|tr:${r}`,n}function ot(e,t,n){let r=Te(e);if(!r)return!1;for(let a=0;a<r.length;a++){if(n.budget<=0)return!1;let o=r[a],i=o&&o.cssText?o.cssText:"";n.budget--;for(let s of t)if(i.includes(s))return!0;if(o&&o.cssRules&&o.cssRules.length)for(let s=0;s<o.cssRules.length&&n.budget>0;s++){let u=o.cssRules[s],l=u&&u.cssText?u.cssText:"";n.budget--;for(let c of t)if(l.includes(c))return!0}if(n.budget<=0)return!1}return!1}function at(e=document){let t=St(e),n=te.get(e);if(n&&n.fingerprint===t)return n.result;let r=["::before","::after","::first-letter",":before",":after",":first-letter","counter(","counters(","counter-increment","counter-reset"],a=e.querySelectorAll("style");for(let i=0;i<a.length;i++){let s=a[i].textContent||"";for(let u of r)if(s.includes(u))return te.set(e,{fingerprint:t,result:!0}),!0}let o=e.adoptedStyleSheets;if(Array.isArray(o)&&o.length){let i={budget:rt};try{for(let s of o)if(ot(s,r,i))return te.set(e,{fingerprint:t,result:!0}),!0}catch{}}{let i=e.querySelectorAll('style,link[rel~="stylesheet"]'),s={budget:rt};for(let u=0;u<i.length&&s.budget>0;u++){let l=i[u],c=null;if(l.tagName,c=l.sheet||null,c&&ot(c,r,s))return te.set(e,{fingerprint:t,result:!0}),!0}}return e.querySelector('[style*="counter("], [style*="counters("]')?(te.set(e,{fingerprint:t,result:!0}),!0):(te.set(e,{fingerprint:t,result:!1}),!1)}var oe=new WeakMap,it=-1;function hr(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function pr(e){if(!e)return"";let t=[],n=/"([^"]*)"/g,r;for(;r=n.exec(e);)t.push(r[1]);return t.length?t.join(""):hr(e)}function Pe(e,t){let n=e.parentElement,r=n?oe.get(n):null;return r?{get(a,o){let i=t.get(a,o),s=r.get(o);return typeof s=="number"?Math.max(i,s):i},getStack(a,o){let i=t.getStack(a,o);if(!i.length)return i;let s=r.get(o);if(typeof s=="number"){let u=i.slice();return u[u.length-1]=Math.max(u[u.length-1],s),u}return i}}:t}function Re(e,t,n){let r=new Map;function a(u){let l=[];if(!u||u==="none")return l;for(let c of String(u).split(",")){let m=c.trim().split(/\s+/),h=m[0],g=Number.isFinite(Number(m[1]))?Number(m[1]):void 0;h&&l.push({name:h,num:g})}return l}let o=a(t?.counterReset),i=a(t?.counterIncrement);function s(u){if(r.has(u))return r.get(u).slice();let l=n.getStack(e,u);l=l.length?l.slice():[];let c=o.find(h=>h.name===u);if(c){let h=Number.isFinite(c.num)?c.num:0;l=l.length?[...l,h]:[h]}let m=i.find(h=>h.name===u);if(m){let h=Number.isFinite(m.num)?m.num:1;l.length===0&&(l=[0]),l[l.length-1]+=h}return r.set(u,l.slice()),l}return{get(u,l){let c=s(l);return c.length?c[c.length-1]:0},getStack(u,l){return s(l)},__incs:i}}function gr(e,t,n){let r;try{r=getComputedStyle(e,t)}catch{}let a=r?.content;if(!a||a==="none"||a==="normal")return{text:"",incs:[]};let o=Pe(e,n),i=Re(e,r,o),s=ur(a)?dr(a,e,i):a;return{text:pr(s),incs:i.__incs||[]}}async function Ct(e,t,n,r){if(!(e instanceof Element)||!(t instanceof Element))return;let a=e.ownerDocument||document;if(!mr(a,n))return;let o=S?.session?.__counterEpoch??0;if(it!==o&&(oe=new WeakMap,n&&(n.__counterCtx=null),it=o),!n.__counterCtx)try{n.__counterCtx=fr(e.ownerDocument||document)}catch{}let i=n.__counterCtx;for(let l of["::before","::after","::first-letter"])try{let c=ft(e,l);if(!c||c.content==="none"&&c.backgroundImage==="none"&&c.backgroundColor==="transparent"&&(c.borderStyle==="none"||parseFloat(c.borderWidth)===0)&&(!c.transform||c.transform==="none")&&c.display==="inline")continue;if(l==="::first-letter"){let _=getComputedStyle(e);if(!(c.color!==_.color||c.fontSize!==_.fontSize||c.fontWeight!==_.fontWeight))continue;let F=Array.from(t.childNodes).find(me=>me.nodeType===Node.TEXT_NODE&&me.textContent?.trim().length>0);if(!F)continue;let O=F.textContent,R=O.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['’])?)/u)?.[0],B=O.slice(R?.length||0);if(!R||/[\uD800-\uDFFF]/.test(R))continue;let U=document.createElement("span");U.textContent=R,U.dataset.snapdomPseudo="::first-letter";let ce=ze(c),fe=Ee(ce,"span");n.styleMap.set(U,fe);let de=document.createTextNode(B);t.replaceChild(de,F),t.insertBefore(U,de);continue}let m=c.content??"",h=m===""||m==="none"||m==="normal",{text:g,incs:p}=gr(e,l,i),f=c.backgroundImage,d=c.backgroundColor,w=c.fontFamily,b=parseInt(c.fontSize)||32,x=parseInt(c.fontWeight)||!1,y=c.color||"#000",M=c.borderStyle,C=parseFloat(c.borderWidth),$=c.transform,A=V(w),N=!h&&g!=="",T=f&&f!=="none",k=d&&d!=="transparent"&&d!=="rgba(0, 0, 0, 0)",P=M&&M!=="none"&&C>0,I=$&&$!=="none";if(!(N||T||k||P||I)){if(p&&p.length&&e.parentElement){let _=oe.get(e.parentElement)||new Map;for(let{name:F}of p){if(!F)continue;let O=Pe(e,i),R=Re(e,getComputedStyle(e,l),O).get(e,F);_.set(F,R)}oe.set(e.parentElement,_)}continue}let E=document.createElement("span");E.dataset.snapdomPseudo=l,E.style.pointerEvents="none";let H=ze(c),z=Ee(H,"span");if(n.styleMap.set(E,z),A&&g&&g.length===1){let{dataUrl:_,width:F,height:O}=await cn(g,w,x,b,y),R=document.createElement("img");R.src=_,R.style=`height:${b}px;width:${F/O*b}px;object-fit:contain;`,E.appendChild(R),t.dataset.snapdomHasIcon="true"}else if(g&&g.startsWith("url(")){let _=We(g);if(_?.trim())try{let F=document.createElement("img"),O=await j(xe(_),{as:"dataURL",useProxy:r.useProxy});F.src=O.data,F.style=`width:${b}px;height:auto;object-fit:contain;`,E.appendChild(F)}catch(F){console.error(`[snapdom] Error in pseudo ${l} for`,e,F)}}else!A&&N&&(E.textContent=g);E.style.backgroundImage="none","maskImage"in E.style&&(E.style.maskImage="none"),"webkitMaskImage"in E.style&&(E.style.webkitMaskImage="none");try{E.style.backgroundRepeat=c.backgroundRepeat,E.style.backgroundSize=c.backgroundSize,c.backgroundPositionX&&c.backgroundPositionY?(E.style.backgroundPositionX=c.backgroundPositionX,E.style.backgroundPositionY=c.backgroundPositionY):E.style.backgroundPosition=c.backgroundPosition,E.style.backgroundOrigin=c.backgroundOrigin,E.style.backgroundClip=c.backgroundClip,E.style.backgroundAttachment=c.backgroundAttachment,E.style.backgroundBlendMode=c.backgroundBlendMode}catch{}if(T)try{let _=dt(f),F=await Promise.all(_.map(ut));E.style.backgroundImage=F.join(", ")}catch(_){console.warn(`[snapdom] Failed to inline background-image for ${l}`,_)}k&&(E.style.backgroundColor=d);let K=E.childNodes.length>0||E.textContent?.trim()!==""||T||k||P||I;if(p&&p.length&&e.parentElement){let _=oe.get(e.parentElement)||new Map,F=Pe(e,i),O=Re(e,getComputedStyle(e,l),F);for(let{name:R}of p){if(!R)continue;let B=O.get(e,R);_.set(R,B)}oe.set(e.parentElement,_)}if(!K)continue;l==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E)}catch(c){console.warn(`[snapdom] Failed to capture ${l} for`,e,c)}let s=Array.from(e.children),u=Array.from(t.children).filter(l=>!l.dataset.snapdomPseudo);for(let l=0;l<Math.min(s.length,u.length);l++)await Ct(s[l],u[l],n,r)}function yr(e,t){if(!e||!(e instanceof Element))return;let n=e.ownerDocument||document,r=n,a=e instanceof SVGSVGElement?[e]:Array.from(e.querySelectorAll("svg"));if(a.length===0)return;let o=/url\(\s*#([^)]+)\)/g,i=["fill","stroke","filter","clip-path","mask","marker","marker-start","marker-mid","marker-end"],s=y=>window.CSS&&CSS.escape?CSS.escape(y):y.replace(/[^a-zA-Z0-9_-]/g,"\\$&"),u="http://www.w3.org/1999/xlink",l=y=>{if(!y||!y.getAttribute)return null;let M=y.getAttribute("href")||y.getAttribute("xlink:href")||(typeof y.getAttributeNS=="function"?y.getAttributeNS(u,"href"):null);if(M)return M;let C=y.attributes;if(!C)return null;for(let $=0;$<C.length;$++){let A=C[$];if(!A||!A.name)continue;if(A.name==="href")return A.value;let N=A.name.indexOf(":");if(N!==-1&&A.name.slice(N+1)==="href")return A.value}return null},c=new Set(Array.from(e.querySelectorAll("[id]")).map(y=>y.id)),m=new Set,h=!1,g=(y,M=null)=>{if(!y)return;o.lastIndex=0;let C;for(;C=o.exec(y);){h=!0;let $=(C[1]||"").trim();$&&(c.has($)||(m.add($),M&&!M.has($)&&M.add($)))}},p=y=>{let M=y.querySelectorAll("use");for(let $ of M){let A=l($);if(!A||!A.startsWith("#"))continue;h=!0;let N=A.slice(1).trim();N&&!c.has(N)&&m.add(N)}let C=y.querySelectorAll('*[style*="url("],*[fill^="url("], *[stroke^="url("],*[filter^="url("],*[clip-path^="url("],*[mask^="url("],*[marker^="url("],*[marker-start^="url("],*[marker-mid^="url("],*[marker-end^="url("]');for(let $ of C){g($.getAttribute("style")||"");for(let A of i)g($.getAttribute(A))}};for(let y of a)p(y);if(!h)return;let f=e.querySelector("svg.inline-defs-container");f||(f=n.createElementNS("http://www.w3.org/2000/svg","svg"),f.classList.add("inline-defs-container"),f.setAttribute("aria-hidden","true"),f.setAttribute("style","position:absolute;width:0;height:0;overflow:hidden"),e.insertBefore(f,e.firstChild||null));let d=f.querySelector("defs")||null,w=y=>{if(!y||c.has(y))return null;let M=s(y),C=$=>{let A=r.querySelector($);return A&&!e.contains(A)?A:null};return C(`svg defs > *#${M}`)||C(`svg > symbol#${M}`)||C(`*#${M}`)};if(!m.size)return;let b=new Set(m),x=new Set;for(;b.size;){let y=b.values().next().value;if(b.delete(y),!y||c.has(y)||x.has(y))continue;let M=w(y);if(!M){x.add(y);continue}d||(d=n.createElementNS("http://www.w3.org/2000/svg","defs"),f.appendChild(d));let C=M.cloneNode(!0);C.id||C.setAttribute("id",y),d.appendChild(C),x.add(y),c.add(y);let $=[C,...C.querySelectorAll("*")];for(let A of $){let N=l(A);if(N&&N.startsWith("#")){let k=N.slice(1).trim();k&&!c.has(k)&&!x.has(k)&&b.add(k)}let T=A.getAttribute?.("style")||"";T&&g(T,b);for(let k of i){let P=A.getAttribute?.(k);P&&g(P,b)}}}}function wr(e,t){if(!e||!t)return;let n=e.scrollTop||0;if(!n)return;getComputedStyle(t).position==="static"&&(t.style.position="relative");let r=e.getBoundingClientRect(),a=e.clientHeight,o="data-snap-ph",i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;i.nextNode();){let s=i.currentNode,u=getComputedStyle(s),l=u.position;if(l!=="sticky"&&l!=="-webkit-sticky")continue;let c=lt(u.top),m=lt(u.bottom);if(c==null&&m==null)continue;let h=br(s,e),g=xr(t,h,o);if(!g)continue;let p=s.getBoundingClientRect(),f=p.width,d=p.height,w=p.left-r.left;if(!(f>0&&d>0)||!Number.isFinite(w))continue;let b=c!=null?c+n:n+(a-d-m);if(!Number.isFinite(b))continue;let x=Number.parseInt(u.zIndex,10),y=Number.isFinite(x),M=y?Math.max(x,1)+1:2,C=y?x-1:0,$=g.cloneNode(!1);$.setAttribute(o,"1"),$.style.position="sticky",$.style.left=`${w}px`,$.style.top=`${b}px`,$.style.width=`${f}px`,$.style.height=`${d}px`,$.style.visibility="hidden",$.style.zIndex=String(C),$.style.overflow="hidden",$.style.background="transparent",$.style.boxShadow="none",$.style.filter="none",g.parentElement?.insertBefore($,g),g.style.position="absolute",g.style.left=`${w}px`,g.style.top=`${b}px`,g.style.bottom="auto",g.style.zIndex=String(M),g.style.pointerEvents="none"}}function lt(e){if(!e||e==="auto")return null;let t=Number.parseFloat(e);return Number.isFinite(t)?t:null}function br(e,t){let n=[];for(let r=e;r&&r!==t;){let a=r.parentElement;if(!a)break;n.push(Array.prototype.indexOf.call(a.children,r)),r=a}return n.reverse()}function xr(e,t,n){let r=e;for(let a=0;a<t.length;a++)if(r=Sr(r,n)[t[a]],!r)return null;return r instanceof HTMLElement?r:null}function Sr(e,t){let n=[],r=e.children;for(let a=0;a<r.length;a++){let o=r[a];o.hasAttribute(t)||n.push(o)}return n}function Cr(e){let t=getComputedStyle(e),n=t.outlineStyle,r=t.outlineWidth,a=t.borderStyle,o=t.borderWidth,i=n!=="none"&&parseFloat(r)>0,s=a==="none"||parseFloat(o)===0;i&&s&&(e.style.border=`${r} solid transparent`)}async function Mr(e,t={}){let n={styleMap:S.session.styleMap,styleCache:S.session.styleCache,nodeMap:S.session.nodeMap},r,a="",o="";Cr(e);try{yr(e)}catch(u){console.warn("inlineExternal defs or symbol failed:",u)}try{r=await be(e,n,t,e)}catch(u){throw console.warn("deepClone failed:",u),u}try{await Ct(e,r,n,t)}catch(u){console.warn("inlinePseudoElements failed:",u)}await sr(r);try{let u=r.querySelectorAll("style[data-sd]");for(let l of u)o+=l.textContent||"",l.remove()}catch{}let i=Zt(n.styleMap);a=Array.from(i.entries()).map(([u,l])=>`.${l}{${u}}`).join(""),a=o+a;for(let[u,l]of n.styleMap.entries()){if(u.tagName==="STYLE")continue;if(u.getRootNode&&u.getRootNode()instanceof ShadowRoot){u.setAttribute("style",l.replace(/;/g,"; "));continue}let c=i.get(l);c&&u.classList.add(c);let m=u.style?.backgroundImage,h=u.dataset?.snapdomHasIcon;m&&m!=="none"&&(u.style.backgroundImage=m),h&&(u.style.verticalAlign="middle",u.style.display="inline")}for(let[u,l]of n.nodeMap.entries()){let c=l.scrollLeft,m=l.scrollTop;if((c||m)&&u instanceof HTMLElement){u.style.overflow="hidden",u.style.scrollbarWidth="none",u.style.msOverflowStyle="none";let h=document.createElement("div");for(h.style.transform=`translate(${-c}px, ${-m}px)`,h.style.willChange="transform",h.style.display="inline-block",h.style.width="100%";u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h)}}let s=r instanceof HTMLElement&&r.firstElementChild instanceof HTMLElement?r.firstElementChild:r;if(wr(e,s),e===n.nodeMap.get(r)){let u=n.styleCache.get(e)||window.getComputedStyle(e);n.styleCache.set(e,u);let l=Dt(u.transform);r.style.margin="0",r.style.top="auto",r.style.left="auto",r.style.right="auto",r.style.bottom="auto",r.style.animation="none",r.style.transition="none",r.style.willChange="auto",r.style.float="none",r.style.clear="none",r.style.transform=l||""}for(let[u,l]of n.nodeMap.entries())l.tagName==="PRE"&&(u.style.marginTop="0",u.style.marginBlockStart="0");return{clone:r,classCSS:a,styleCache:n.styleCache}}function $r(e){let t=parseInt(e.dataset?.snapdomWidth||"",10)||0,n=parseInt(e.dataset?.snapdomHeight||"",10)||0,r=parseInt(e.getAttribute("width")||"",10)||0,a=parseInt(e.getAttribute("height")||"",10)||0,o=parseFloat(e.style?.width||"")||0,i=parseFloat(e.style?.height||"")||0,s=t||o||r||e.width||e.naturalWidth||100,u=n||i||a||e.height||e.naturalHeight||100;return{width:s,height:u}}async function vr(e,t={}){let n=Array.from(e.querySelectorAll("img")),r=async a=>{if(!a.getAttribute("src")){let c=a.currentSrc||a.src||"";c&&a.setAttribute("src",c)}a.removeAttribute("srcset"),a.removeAttribute("sizes");let o=a.src||"";if(!o)return;let i=await j(o,{as:"dataURL",useProxy:t.useProxy});if(i.ok&&typeof i.data=="string"&&i.data.startsWith("data:")){a.src=i.data,a.width||(a.width=a.naturalWidth||100),a.height||(a.height=a.naturalHeight||100);return}let{width:s,height:u}=$r(a),{fallbackURL:l}=t||{};if(l)try{let c=typeof l=="function"?await l({width:s,height:u,src:o,element:a}):l;if(c){let m=await j(c,{as:"dataURL",useProxy:t.useProxy});a.src=m.data,a.width||(a.width=s),a.height||(a.height=u);return}}catch{}if(t.placeholders!==!1){let c=document.createElement("div");c.style.cssText=[`width:${s}px`,`height:${u}px`,"background:#ccc","display:inline-block","text-align:center",`line-height:${u}px`,"color:#666","font-size:12px","overflow:hidden"].join(";"),c.textContent="img",a.replaceWith(c)}else{let c=document.createElement("div");c.style.cssText=`display:inline-block;width:${s}px;height:${u}px;visibility:hidden;`,a.replaceWith(c)}};for(let a=0;a<n.length;a+=4){let o=n.slice(a,a+4).map(r);await Promise.allSettled(o)}}function kr(e){if(!e)return()=>{};let t=Ar(e);if(t<=0)return()=>{};if(!Fr(e))return()=>{};let n=getComputedStyle(e),r=Math.round(Er(n)*t+_r(n)),a=e.textContent??"",o=a;if(e.scrollHeight<=r+.5)return()=>{};let i=0,s=a.length,u=-1;for(;i<=s;){let l=i+s>>1;e.textContent=a.slice(0,l)+"…",e.scrollHeight<=r+.5?(u=l,i=l+1):s=l-1}return e.textContent=(u>=0?a.slice(0,u):"")+"…",()=>{e.textContent=o}}function Ar(e){let t=getComputedStyle(e),n=t.getPropertyValue("-webkit-line-clamp")||t.getPropertyValue("line-clamp");n=(n||"").trim();let r=parseInt(n,10);return Number.isFinite(r)&&r>0?r:0}function Er(e){let t=(e.lineHeight||"").trim(),n=parseFloat(e.fontSize)||16;return!t||t==="normal"?Math.round(n*1.2):t.endsWith("px")?parseFloat(t):/^\d+(\.\d+)?$/.test(t)?Math.round(parseFloat(t)*n):t.endsWith("%")?Math.round(parseFloat(t)/100*n):Math.round(n*1.2)}function _r(e){return(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)}function Fr(e){return e.childElementCount>0?!1:Array.from(e.childNodes).some(t=>t.nodeType===Node.TEXT_NODE)}function Lr(e,t){if(!e||!t||!t.style)return;let n=getComputedStyle(e);try{t.style.boxShadow="none"}catch{}try{t.style.textShadow="none"}catch{}try{t.style.outline="none"}catch{}let r=(n.filter||"").replace(/\bblur\([^()]*\)\s*/gi,"").replace(/\bdrop-shadow\([^()]*\)\s*/gi,"").trim().replace(/\s+/g," ");try{t.style.filter=r.length?r:"none"}catch{}}function Nr(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),n=[];for(;t.nextNode();)n.push(t.currentNode);for(let r of n)r.remove()}function Tr(e,t={}){let{stripFrameworkDirectives:n=!0}=t,r=new Set(["xml","xlink"]),a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;a.nextNode();){let o=a.currentNode;for(let i of Array.from(o.attributes)){let s=i.name;if(s.includes("@")){o.removeAttribute(s);continue}if(s.includes(":")){let u=s.split(":",1)[0];if(!r.has(u)){o.removeAttribute(s);continue}}if(n&&(s.startsWith("x-")||s.startsWith("v-")||s.startsWith(":")||s.startsWith("on:")||s.startsWith("bind:")||s.startsWith("let:")||s.startsWith("class:"))){o.removeAttribute(s);continue}}}}function Pr(e,t={}){e&&(Tr(e,t),Nr(e))}function Rr(e){try{let t=e.getAttribute?.("style")||"";return/\b(height|width|block-size|inline-size)\s*:/.test(t)}catch{return!1}}function Ir(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function Wr(e,t){if(!(e instanceof Element)||Rr(e)||Ir(e))return!1;let n=t.position;if(n==="absolute"||n==="fixed"||n==="sticky")return!1;let r=t.display||"";return!(r.includes("flex")||r.includes("grid")||r.startsWith("table")||t.transform&&t.transform!=="none")}function Or(e,t,n=new Map){function r(a,o){if(!(a instanceof Element)||!(o instanceof Element))return;let i=a.childElementCount>o.childElementCount,s=n.get(a)||getComputedStyle(a);if(n.has(a)||n.set(a,s),i&&Wr(a,s)){o.style.height||(o.style.height="auto"),o.style.width||(o.style.width="auto"),o.style.removeProperty("block-size"),o.style.removeProperty("inline-size"),o.style.minHeight||(o.style.minHeight="0"),o.style.minWidth||(o.style.minWidth="0"),o.style.maxHeight||(o.style.maxHeight="none"),o.style.maxWidth||(o.style.maxWidth="none");let c=s.overflowY||s.overflowBlock||"visible",m=s.overflowX||s.overflowInline||"visible";(c!=="visible"||m!=="visible")&&(o.style.overflow="visible")}let u=Array.from(a.children),l=Array.from(o.children);for(let c=0;c<Math.min(u.length,l.length);c++)r(u[c],l[c])}r(e,t)}function Dr(e){let t=getComputedStyle(e);return!(t.display==="none"||t.position==="absolute"||t.position==="fixed"||t.position==="sticky"||(t.cssFloat||t.float||"none")!=="none"||t.transform&&t.transform!=="none")}function qr(e,t){if(!(e instanceof Element))return!1;if(e.getAttribute("data-capture")==="exclude"&&t?.excludeMode==="remove")return!0;if(Array.isArray(t?.exclude))for(let n of t.exclude)try{if(e.matches(n))return t.excludeMode==="remove"}catch{}return!1}function jr(e,t){let n=getComputedStyle(e),r=e.getBoundingClientRect(),a=1/0,o=-1/0,i=!1,s=Array.from(e.children);for(let g of s){if(qr(g,t)||!Dr(g))continue;let p=g.getBoundingClientRect(),f=p.top-r.top,d=p.bottom-r.top;d<=f||(f<a&&(a=f),d>o&&(o=d),i=!0)}let u=i?Math.max(0,o-a):0,l=parseFloat(n.borderTopWidth)||0,c=parseFloat(n.borderBottomWidth)||0,m=parseFloat(n.paddingTop)||0,h=parseFloat(n.paddingBottom)||0;return l+c+m+h+u}var v=(e,t=3)=>Number.isFinite(e)?Math.round(e*10**t)/10**t:e;function Ur(e){let t=e.boxShadow||"";if(!t||t==="none")return{top:0,right:0,bottom:0,left:0};let n=t.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(s=>s.trim()),r=0,a=0,o=0,i=0;for(let s of n){let u=s.match(/-?\d+(\.\d+)?px/g)?.map(f=>parseFloat(f))||[];if(u.length<2)continue;let[l,c,m=0,h=0]=u,g=Math.abs(l)+m+h,p=Math.abs(c)+m+h;a=Math.max(a,g+Math.max(l,0)),i=Math.max(i,g+Math.max(-l,0)),o=Math.max(o,p+Math.max(c,0)),r=Math.max(r,p+Math.max(-c,0))}return{top:Math.ceil(r),right:Math.ceil(a),bottom:Math.ceil(o),left:Math.ceil(i)}}function Vr(e){let t=(e.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),n=t?Math.ceil(parseFloat(t[1])||0):0;return{top:n,right:n,bottom:n,left:n}}function Hr(e){if((e.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};let t=Math.ceil(parseFloat(e.outlineWidth||"0")||0);return{top:t,right:t,bottom:t,left:t}}function zr(e){let t=`${e.filter||""} ${e.webkitFilter||""}`.trim();if(!t||t==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};let n=t.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[],r=0,a=0,o=0,i=0,s=!1;for(let u of n){s=!0;let l=u.match(/-?\d+(?:\.\d+)?px/gi)?.map(f=>parseFloat(f))||[],[c=0,m=0,h=0]=l,g=Math.abs(c)+h,p=Math.abs(m)+h;a=Math.max(a,g+Math.max(c,0)),i=Math.max(i,g+Math.max(-c,0)),o=Math.max(o,p+Math.max(m,0)),r=Math.max(r,p+Math.max(-m,0))}return{bleed:{top:v(r),right:v(a),bottom:v(o),left:v(i)},has:s}}function Br(e,t){if(!e||!t||!t.style)return null;let n=getComputedStyle(e);try{t.style.transformOrigin="0 0"}catch{}try{"translate"in t.style&&(t.style.translate="none"),"rotate"in t.style&&(t.style.rotate="none")}catch{}let r=n.transform||"none";if(r==="none")try{let o=Mt(e);if(o.a===1&&o.b===0&&o.c===0&&o.d===1)return t.style.transform="none",{a:1,b:0,c:0,d:1}}catch{}let a=r.match(/^matrix\(\s*([^)]+)\)$/i);if(a){let o=a[1].split(",").map(i=>parseFloat(i.trim()));if(o.length===6&&o.every(Number.isFinite)){let[i,s,u,l]=o,c=Math.sqrt(i*i+s*s)||0,m=0,h=0,g=0,p=0,f=0,d=0;c>0&&(m=i/c,h=s/c,g=m*u+h*l,p=u-m*g,f=l-h*g,d=Math.sqrt(p*p+f*f)||0,d>0?g=g/d:g=0);let w=c,b=0,x=g*d,y=d;try{t.style.transform=`matrix(${w}, ${b}, ${x}, ${y}, 0, 0)`}catch{}return{a:w,b,c:x,d:y}}}try{let o=String(r).trim();return t.style.transform=o+" translate(0px, 0px) rotate(0deg)",null}catch{return null}}function st(e,t,n,r,a){let o=n.a,i=n.b,s=n.c,u=n.d,l=n.e||0,c=n.f||0;function m(w,b){let x=w-r,y=b-a,M=o*x+s*y,C=i*x+u*y;return M+=r+l,C+=a+c,[M,C]}let h=[m(0,0),m(e,0),m(0,t),m(e,t)],g=1/0,p=1/0,f=-1/0,d=-1/0;for(let[w,b]of h)w<g&&(g=w),b<p&&(p=b),w>f&&(f=w),b>d&&(d=b);return{minX:g,minY:p,maxX:f,maxY:d,width:f-g,height:d-p}}function Xr(e,t,n){let r=(e.transformOrigin||"0 0").trim().split(/\s+/),[a,o]=[r[0]||"0",r[1]||"0"],i=(s,u)=>{let l=s.toLowerCase();return l==="left"||l==="top"?0:l==="center"?u/2:l==="right"||l==="bottom"?u:l.endsWith("px")?parseFloat(l)||0:l.endsWith("%")?(parseFloat(l)||0)*u/100:/^-?\d+(\.\d+)?$/.test(l)&&parseFloat(l)||0};return{ox:i(a,t),oy:i(o,n)}}function Yr(e){let t={rotate:"0deg",scale:null,translate:null},n=typeof e.computedStyleMap=="function"?e.computedStyleMap():null;if(n){let a=u=>{try{return typeof n.has=="function"&&!n.has(u)||typeof n.get!="function"?null:n.get(u)}catch{return null}},o=a("rotate");if(o)if(o.angle){let u=o.angle;t.rotate=u.unit==="rad"?u.value*180/Math.PI+"deg":u.value+u.unit}else o.unit?t.rotate=o.unit==="rad"?o.value*180/Math.PI+"deg":o.value+o.unit:t.rotate=String(o);else{let u=getComputedStyle(e);t.rotate=u.rotate&&u.rotate!=="none"?u.rotate:"0deg"}let i=a("scale");if(i){let u="x"in i&&i.x?.value!=null?i.x.value:Array.isArray(i)?i[0]?.value:Number(i)||1,l="y"in i&&i.y?.value!=null?i.y.value:Array.isArray(i)?i[1]?.value:u;t.scale=`${u} ${l}`}else{let u=getComputedStyle(e);t.scale=u.scale&&u.scale!=="none"?u.scale:null}let s=a("translate");if(s){let u="x"in s&&"value"in s.x?s.x.value:Array.isArray(s)?s[0]?.value:0,l="y"in s&&"value"in s.y?s.y.value:Array.isArray(s)?s[1]?.value:0,c="x"in s&&s.x?.unit?s.x.unit:"px",m="y"in s&&s.y?.unit?s.y.unit:"px";t.translate=`${u}${c} ${l}${m}`}else{let u=getComputedStyle(e);t.translate=u.translate&&u.translate!=="none"?u.translate:null}return t}let r=getComputedStyle(e);return t.rotate=r.rotate&&r.rotate!=="none"?r.rotate:"0deg",t.scale=r.scale&&r.scale!=="none"?r.scale:null,t.translate=r.translate&&r.translate!=="none"?r.translate:null,t}var Ae=null;function Gr(){if(Ae)return Ae;let e=document.createElement("div");return e.id="snapdom-measure-slot",e.setAttribute("aria-hidden","true"),Object.assign(e.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(e),Ae=e,e}function Jr(e){let t=Gr(),n=document.createElement("div");n.style.transformOrigin="0 0",e.baseTransform&&(n.style.transform=e.baseTransform),e.rotate&&(n.style.rotate=e.rotate),e.scale&&(n.style.scale=e.scale),e.translate&&(n.style.translate=e.translate),t.appendChild(n);let r=Mt(n);return t.removeChild(n),r}function Kr(e){let t=getComputedStyle(e),n=t.transform||"none";if(n!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(n))return!0;let r=t.rotate&&t.rotate!=="none"&&t.rotate!=="0deg",a=t.scale&&t.scale!=="none"&&t.scale!=="1",o=t.translate&&t.translate!=="none"&&t.translate!=="0px 0px";return!!(r||a||o)}function Mt(e){let t=getComputedStyle(e).transform;if(!t||t==="none")return new DOMMatrix;try{return new DOMMatrix(t)}catch{return new WebKitCSSMatrix(t)}}async function $t(e,t){if(!e)throw new Error("Element cannot be null or undefined");Ot(t.cache);let n=t.fast,r=t.outerTransforms!==!1,a=!!t.outerShadows,o={element:e,options:t,plugins:t.plugins},i,s,u,l="",c="",m,h,g=null;await J("beforeSnap",o),await J("beforeClone",o);let p=kr(o.element);try{({clone:i,classCSS:s,styleCache:u}=await Mr(o.element,o.options)),!r&&i&&(g=Br(o.element,i)),!a&&i&&Lr(o.element,i)}finally{p()}if(o={clone:i,classCSS:s,styleCache:u,...o},await J("afterClone",o),Pr(o.clone),o.options?.excludeMode==="remove")try{Or(o.element,o.clone,o.styleCache)}catch(b){console.warn("[snapdom] shrink pass failed:",b)}try{await un(o.clone,o.element)}catch{}await new Promise(b=>{ne(async()=>{await vr(o.clone,o.options),b()},{fast:n})}),await new Promise(b=>{ne(async()=>{await An(o.element,o.clone,o.styleCache,o.options),b()},{fast:n})}),t.embedFonts&&await new Promise(b=>{ne(async()=>{let x=$n(o.element),y=vn(o.element);if(ie()){let M=new Set(Array.from(x).map(C=>String(C).split("__")[0]).filter(Boolean));await kn(M,1)}l=await Mn({required:x,usedCodepoints:y,exclude:o.options.excludeFonts,useProxy:o.options.useProxy}),b()},{fast:n})});let f=Kt(o.clone).sort(),d=f.join(",");S.baseStyle.has(d)?c=S.baseStyle.get(d):await new Promise(b=>{ne(()=>{c=Qt(f),S.baseStyle.set(d,c),b()},{fast:n})}),o={fontsCSS:l,baseCSS:c,...o},await J("beforeRender",o),await new Promise(b=>{ne(()=>{let x=getComputedStyle(o.element),y=o.element.getBoundingClientRect(),M=Math.max(1,v(o.element.offsetWidth||parseFloat(x.width)||y.width||1)),C=Math.max(1,v(o.element.offsetHeight||parseFloat(x.height)||y.height||1));if(o.options?.excludeMode==="remove"){let D=jr(o.element,o.options);Number.isFinite(D)&&D>0&&(C=Math.max(1,Math.min(C,v(D+1))))}let $=(D,q=NaN)=>{let Z=typeof D=="string"?parseFloat(D):D;return Number.isFinite(Z)?Z:q},A=$(o.options.width),N=$(o.options.height),T=M,k=C,P=Number.isFinite(A),I=Number.isFinite(N),E=C>0?M/C:1;P&&I?(T=Math.max(1,v(A)),k=Math.max(1,v(N))):P?(T=Math.max(1,v(A)),k=Math.max(1,v(T/(E||1)))):I?(k=Math.max(1,v(N)),T=Math.max(1,v(k*(E||1)))):(T=M,k=C);let H=0,z=0,K=M,_=C;if(!r&&g&&Number.isFinite(g.a)){let D={a:g.a,b:g.b||0,c:g.c||0,d:g.d||1,e:0,f:0},q=st(M,C,D,0,0);H=v(q.minX),z=v(q.minY),K=v(q.maxX),_=v(q.maxY)}else if(r&&Qr(o.element)){let D=x.transform&&x.transform!=="none"?x.transform:"",q=Yr(o.element),Z=Jr({baseTransform:D,rotate:q.rotate||"0deg",scale:q.scale,translate:q.translate}),{ox:Rt,oy:It}=Xr(x,M,C),Wt=Z.is2D?Z:new DOMMatrix(Z.toString()),he=st(M,C,Wt,Rt,It);H=v(he.minX),z=v(he.minY),K=v(he.maxX),_=v(he.maxY)}let F=Ur(x),O=Vr(x),R=Hr(x),B=zr(x),U=a?{top:v(F.top+O.top+R.top+B.bleed.top),right:v(F.right+O.right+R.right+B.bleed.right),bottom:v(F.bottom+O.bottom+R.bottom+B.bleed.bottom),left:v(F.left+O.left+R.left+B.bleed.left)}:{top:0,right:0,bottom:0,left:0};H=v(H-U.left),z=v(z-U.top),K=v(K+U.right),_=v(_+U.bottom);let ce=Math.max(1,v(K-H)),fe=Math.max(1,v(_-z)),de=P||I?v(T/M):1,me=I||P?v(k/C):1,At=Math.max(1,v(ce*de)),Et=Math.max(1,v(fe*me)),qe="http://www.w3.org/2000/svg",_t=ie()?1:0,X=v(_t+(r?0:1)),Y=document.createElementNS(qe,"foreignObject"),Ft=v(H),Lt=v(z);Y.setAttribute("x",String(v(-(Ft-X)))),Y.setAttribute("y",String(v(-(Lt-X)))),Y.setAttribute("width",String(v(M+X*2))),Y.setAttribute("height",String(v(C+X*2))),Y.style.overflow="visible";let je=document.createElement("style");je.textContent=o.baseCSS+o.fontsCSS+"svg{overflow:visible;} foreignObject{overflow:visible;}"+o.classCSS,Y.appendChild(je);let Q=document.createElement("div");Q.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Q.style.width=`${v(M)}px`,Q.style.height=`${v(C)}px`,Q.style.overflow="visible",o.clone.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Q.appendChild(o.clone),Y.appendChild(Q);let Nt=new XMLSerializer().serializeToString(Y),Me=v(ce+X*2),$e=v(fe+X*2),Ue=P||I;t.meta={w0:M,h0:C,vbW:Me,vbH:$e,targetW:T,targetH:k};let Tt=ie()&&Ue?Me:v(At+X*2),Pt=ie()&&Ue?$e:v(Et+X*2);h=`<svg xmlns="${qe}" width="${Tt}" height="${Pt}" viewBox="0 0 ${Me} ${$e}">`+Nt+"</svg>",m=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h)}`,o={svgString:h,dataURL:m,...o},b()},{fast:n})}),await J("afterRender",o);let w=document.getElementById("snapdom-sandbox");return w&&w.style.position==="absolute"&&w.remove(),o.dataURL}function Qr(e){return Kr(e)}function Zr(e){if(typeof e=="string"){let t=e.toLowerCase().trim();if(t==="disabled"||t==="full"||t==="auto"||t==="soft")return t}return"soft"}function eo(e={}){let t=e.format??"png";t==="jpg"&&(t="jpeg");let n=Zr(e.cache);return{debug:e.debug??!1,fast:e.fast??!0,scale:e.scale??1,exclude:e.exclude??[],excludeMode:e.excludeMode??"hide",filter:e.filter??null,filterMode:e.filterMode??"hide",placeholders:e.placeholders!==!1,embedFonts:e.embedFonts??!1,iconFonts:Array.isArray(e.iconFonts)?e.iconFonts:e.iconFonts?[e.iconFonts]:[],localFonts:Array.isArray(e.localFonts)?e.localFonts:[],excludeFonts:e.excludeFonts??void 0,fallbackURL:e.fallbackURL??void 0,cache:n,useProxy:typeof e.useProxy=="string"?e.useProxy:"",width:e.width??null,height:e.height??null,format:t,type:e.type??"svg",quality:e.quality??.92,dpr:e.dpr??(window.devicePixelRatio||1),backgroundColor:e.backgroundColor??(["jpeg","webp"].includes(t)?"#ffffff":null),filename:e.filename??"snapDOM",outerTransforms:e.outerTransforms??!0,outerShadows:e.outerShadows??!1}}function vt(...e){return En(...e),L}var L=Object.assign(to,{plugins:vt}),kt=Symbol("snapdom.internal"),G=Symbol("snapdom.internal.silent"),Ie=!1;async function to(e,t){if(!e)throw new Error("Element cannot be null or undefined");let n=eo(t);if(Ln(n,t&&t.plugins),ie()&&(n.embedFonts===!0||ro(e)))for(let r=0;r<3;r++)try{await no(e,t),Ie=!1}catch{}return n.iconFonts&&n.iconFonts.length>0&&tn(n.iconFonts),n.snap||(n.snap={toPng:(r,a)=>L.toPng(r,a),toSvg:(r,a)=>L.toSvg(r,a)}),L.capture(e,n,kt)}L.capture=async(e,t,n)=>{if(n!==kt)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");let r=await $t(e,t),a={img:async(p,f)=>{let{toImg:d}=await W(()=>import("./toImg.C5hS9a_m.js"),__vite__mapDeps([0,1,2,3]));return d(r,{...p,...f||{}})},svg:async(p,f)=>{let{toSvg:d}=await W(()=>import("./toImg.C5hS9a_m.js"),__vite__mapDeps([0,1,2,3]));return d(r,{...p,...f||{}})},canvas:async(p,f)=>{let{toCanvas:d}=await W(()=>import("./toCanvas.8AyYpcGh.js"),__vite__mapDeps([2,3]));return d(r,{...p,...f||{}})},blob:async(p,f)=>{let{toBlob:d}=await W(()=>import("./toBlob.BNCK6QvN.js"),__vite__mapDeps([4,2,3]));return d(r,{...p,...f||{}})},png:async(p,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return d(r,{...p,...f||{},format:"png"})},jpeg:async(p,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return d(r,{...p,...f||{},format:"jpeg"})},webp:async(p,f)=>{let{rasterize:d}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return d(r,{...p,...f||{},format:"webp"})},download:async(p,f)=>{let{download:d}=await W(()=>import("./download.Dfaze3L0.js"),__vite__mapDeps([5,4,2,3]));return d(r,{...p,...f||{}})}},o={...t,export:{url:r},exports:{svg:async p=>{let{toSvg:f}=await W(()=>import("./toImg.C5hS9a_m.js"),__vite__mapDeps([0,1,2,3]));return f(r,{...t,...p||{},[G]:!0})},canvas:async p=>{let{toCanvas:f}=await W(()=>import("./toCanvas.8AyYpcGh.js"),__vite__mapDeps([2,3]));return f(r,{...t,...p||{},[G]:!0})},png:async p=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return f(r,{...t,...p||{},format:"png",[G]:!0})},jpeg:async p=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return f(r,{...t,...p||{},format:"jpeg",[G]:!0})},jpg:async p=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return f(r,{...t,...p||{},format:"jpeg",[G]:!0})},webp:async p=>{let{rasterize:f}=await W(()=>import("./rasterize-JS5G2XHH.CBN-NRlj.js"),__vite__mapDeps([1,2,3]));return f(r,{...t,...p||{},format:"webp",[G]:!0})},blob:async p=>{let{toBlob:f}=await W(()=>import("./toBlob.BNCK6QvN.js"),__vite__mapDeps([4,2,3]));return f(r,{...t,...p||{},[G]:!0})},img:async p=>{let{toImg:f}=await W(()=>import("./toImg.C5hS9a_m.js"),__vite__mapDeps([0,1,2,3]));return f(r,{...t,...p||{},[G]:!0})}}},i=await _n("defineExports",o),s=Object.assign({},...i.filter(p=>p&&typeof p=="object")),u={...a,...s};u.jpeg&&!u.jpg&&(u.jpg=(p,f)=>u.jpeg(p,f));function l(p,f){let d={...t,...f||{}};return(p==="jpeg"||p==="jpg")&&(d.backgroundColor==null||d.backgroundColor==="transparent")&&(d.backgroundColor="#ffffff"),d}let c=!1,m=Promise.resolve();async function h(p,f){let d=async()=>{let w=u[p];if(!w)throw new Error(`[snapdom] Unknown export type: ${p}`);let b=l(p,f),x={...t,export:{type:p,options:b,url:r}};await J("beforeExport",x);let y=await w(x,b);return await J("afterExport",x,y),c||(c=!0,await J("afterSnap",t)),y};return m=m.then(d)}let g={url:r,toRaw:()=>r,to:(p,f)=>h(p,f),toImg:p=>h("img",p),toSvg:p=>h("svg",p),toCanvas:p=>h("canvas",p),toBlob:p=>h("blob",p),toPng:p=>h("png",p),toJpg:p=>h("jpg",p),toWebp:p=>h("webp",p),download:p=>h("download",p)};for(let p of Object.keys(u)){let f="to"+p.charAt(0).toUpperCase()+p.slice(1);g[f]||(g[f]=d=>h(p,d))}return g};L.toRaw=(e,t)=>L(e,t).then(n=>n.toRaw());L.toImg=(e,t)=>L(e,t).then(n=>n.toImg());L.toSvg=(e,t)=>L(e,t).then(n=>n.toSvg());L.toCanvas=(e,t)=>L(e,t).then(n=>n.toCanvas());L.toBlob=(e,t)=>L(e,t).then(n=>n.toBlob());L.toPng=(e,t)=>L(e,{...t,format:"png"}).then(n=>n.toPng());L.toJpg=(e,t)=>L(e,{...t,format:"jpeg"}).then(n=>n.toJpg());L.toWebp=(e,t)=>L(e,{...t,format:"webp"}).then(n=>n.toWebp());L.download=(e,t)=>L(e,t).then(n=>n.download());async function no(e,t){if(Ie)return;let n={...t,fast:!0,embedFonts:!0,scale:.2},r;try{r=await $t(e,n)}catch{}await new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(a))),r&&await new Promise(a=>{let o=new Image;try{o.decoding="sync",o.loading="eager"}catch{}o.style.cssText="position:fixed;left:0px;top:0px;width:10px;height:10px;opacity:0.01;pointer-events:none;",o.src=r,document.body.appendChild(o),(async()=>{try{typeof o.decode=="function"&&await o.decode()}catch{}let i=performance.now();for(;!(o.complete&&o.naturalWidth>0)&&performance.now()-i<900;)await new Promise(s=>setTimeout(s,200));await new Promise(s=>requestAnimationFrame(s));try{o.remove()}catch{}a()})()}),e.querySelectorAll("canvas").forEach(a=>{try{let o=a.getContext("2d",{willReadFrequently:!0});o&&o.getImageData(0,0,1,1)}catch{}}),Ie=!0}function ro(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;t.nextNode();){let n=t.currentNode,r=getComputedStyle(n),a=r.backgroundImage&&r.backgroundImage!=="none",o=r.maskImage&&r.maskImage!=="none"||r.webkitMaskImage&&r.webkitMaskImage!=="none";if(a||o||n.tagName==="CANVAS")return!0}return!1}const ao=Object.freeze(Object.defineProperty({__proto__:null,plugins:vt,snapdom:L},Symbol.toStringTag,{value:"Module"}));export{ie as l,ao as s};
